(function(b){var g=null,k=null,m=(function(){return !this})(),a=function(s,q,p,t){var o=this,p=p||0,r=this.isA5,n=setTimeout(function(){if(!r||o._a5_initialized){var u=s.apply(o,q);if(t){t.call(o,u)}}},p);return{cancel:function(){clearTimeout(n)}}},c=function(r,u,p,t,o,q){var w=this,v=this.isA5,n=0,t=t||0,s=setInterval(function(){if(!v||w._a5_initialized){var x=r.apply(w,u);if(o){o.call(w,x)}n++;if(n==t){clearInterval(s);if(q){q.call(w,x)}}}},p);return{cancel:function(){clearInterval(s)}}},f=function(p,n,r){var u,s,q,o;if(!p){return null}r=r||false;if(typeof p==="object"){return p}u=p.split(".");o=b;if(u.length===1&&n&&n[p]){return n[p]}for(s=0,q=u.length;s<q;s++){o=o[u[s]];if(o===undefined){if(k){try{var v=k(p,n);if(v){return v}}catch(t){return null}}else{return null}}}if(r||o.namespace!==undefined){return o}return null},e=function(o,s,r){var u=typeof s==="boolean",q=u?s:false,t,n=(u?r:s)||{},t=o.split("."),v=t.pop(),p;if(!o.match(/^[A-Za-z0-9.]*$/)){return a5.ThrowError(100,null,{namespace:o})}p=t.length?d(t):b;if(p[v]!==undefined){return p[v]}return p[v]=q?new n():n},d=function(q){var p=b,o,n;for(o=0,n=q.length;o<n;o++){if(!p[q[o]]){p[q[o]]={}}p=p[q[o]]}return p},h=function(){g={};for(var n in b){g[n]=""}},j=function(n){if(!g){a5.ThrowError(101)}else{var p=[],o;for(o in b){if(g[o]===undefined){p.push(o)}}if(n===true){h()}return p}};b.a5={Version:function(){return"0.5.{BUILD_NUMBER}"},GetNamespace:f,SetNamespace:e,ES5:m,Async:a,Cycle:c,TrackGlobalStrays:h,GetGlobalStrays:j,RegisterNamespaceResolver:function(n){k=n},CreateGlobals:function(){b.Create=a5.Create;b.Async=a5.Async;b.Cycle=a5.Cycle;b.Package=a5.Package;b.GetNamespace=a5.GetNamespace;b.SetNamespace=a5.SetNamespace}};a5.SetNamespace("a5.core.reflection",true,function(){var n={getName:function(){return this._a5_methodName},getClass:function(){return this._a5_ownerClass},getClassInstance:function(){return this._a5_ownerInstance},getAttributes:function(){return this._a5_attributes?this._a5_attributes:null}},o=function(p,r,s,q){q=q||r[s];q._a5_ownerInstance=r;q._a5_ownerClass=p;q._a5_methodName=s;q.getName=n.getName;q.getClass=n.getClass;q.getClassInstance=n.getClassInstance;q.getAttributes=n.getAttributes};return{setReflection:o}});a5.SetNamespace("a5.core.attributes",true,function(){var q=function(u,w){var A=Array.prototype.slice.call(w),x,J,I,H,G,B,y={},r=false;if(!A.length){return a5.ThrowError(305)}x=typeof A[A.length-1]==="function"?A.pop():null;if(x!==null&&typeof x!=="function"){return a5.ThrowError(300)}if(!A.length){return a5.ThrowError(301)}for(J=0,G=A.length;J<G;J++){var z=A[J];if(Object.prototype.toString.call(z)!=="[object Array]"){return a5.ThrowError(302)}for(I=0,H=z.length;I<H;I++){var E=z[I],B=typeof E;if(I==0){var K=false,F=null;if(B!=="string"){if(B==="function"){F=E}else{K=true}}else{var v=a5.GetNamespace(E,u.imports());if(!v){v=a5.GetNamespace(E+"Attribute",u.imports())}if(v){F=z[I]=v}else{K=true}}if(!K&&(!F.isA5||!F.doesExtend(a5.Attribute))){K=true}else{if(!K&&F.doesExtend(a5.AspectAttribute)){r=true}}if(K){return a5.ThrowError(303)}}else{if(B!=="object"||Object.prototype.toString.call(E)==="[object Array]"){return a5.ThrowError(304)}}}}for(J=0,G=A.length;J<G;J++){var s=A[J],D=[];for(var I=1,H=s.length;I<H;I++){D.push(s[I])}A[J]=[s[0],D];y[s[0].className()]=D}if(!r){if(!x){x=function(){}}x._a5_attributes=y;return x}y.wrappedMethod=x;var C=function(){var L,V=[],R=this,P=0;if(x){for(var L in C){x[L]=C[L]}}for(var O=0,N=A.length;O<N;O++){var U=A[O][0],T=U.instance(true),S=A[O][1];V.push({cls:T,props:S})}var Q=function(Y,X,W){M(P,Y,X,W)},M=function(X,ac,ae,Y){if(ac){if(Object.prototype.toString.call(ac)!=="[object Array]"){ac=[ac]}}else{ac=[]}if(!Y){Y=ac}if(X>=V.length){if(ae){return ac[0]}else{return t(ac,Y)}}var ab,ae=ae||false,aa=false,Z=false,ad=function(af){Q.call(this,af||ac,ae,Y)};var W=new a5.AspectCallArguments(V[X].props,ac,R,C,ad,Y);ab=V[X].cls.around(W);if(ab===a5.AspectAttribute.NOT_IMPLEMENTED){ab=V[X].cls[(ae?"after":"before")](W)}else{aa=true}if(ab!==null&&ab!==undefined){switch(ab){case a5.AspectAttribute.NOT_IMPLEMENTED:case a5.AspectAttribute.SUCCESS:ab=ac;break;case a5.AspectAttribute.ASYNC:Z=true;break;case a5.AspectAttribute.RETURN_NULL:ab=null;break;case a5.AspectAttribute.FAILURE:return}}else{return a5.ThrowError(308,null,{prop:L,method:aa?"around":(ae?"after":"before")})}P=X+1;if(!Z){return M(P,ab,ae,ac,Y)}},t=function(X,W){P=0;var Y=x?x.apply(R,X):undefined;if(Y!==undefined){Y=[Y]}else{Y=X}return M(0,Y,true,W)};return M(P,Array.prototype.slice.call(arguments))};C._a5_attributes=y;return C},p=function(){for(i=0,l=a5.Attribute._extenderRef.length;i<l;i++){new a5.Attribute._extenderRef[i]()}},n=function(A,y){var z=y.split("|");for(var w=0,u=z.length;w<u;w++){var s=z[w],t=s.charAt(0)==="*",B=s.charAt(s.length-1)==="*",x=A.indexOf(s),v=x!==-1;if(v){return true}if(t&&A.indexOf(s.substr(1))===0){return true}if(B&&A.indexOf(s.substr(0,s.length-1))>-1){return true}}return false},o=function(H,t){var v=H.getMethods(),F=Array.prototype.slice;for(var C=0,w=v.length;C<w;C++){var G=v[C],r=H[G],u=[];for(var A=0,x=t.length;A<x;A++){var E=F.call(t[A]);if(E.length>1){var B=E[E.length-1],s=false,z=true,y=B.include,D=B.exclude;if(y!==undefined){s=true;if(typeof y==="object"){z=G.match(y).length>0}else{z=n(G,y)}}if(D!==undefined){s=true;if(typeof D==="object"){z=G.match(D)}else{z=n(G,D)}}if(s){E.pop()}if(z){u.push(E)}}else{u.push(E)}}if(u.length){u.push(r);H[G]=a5.core.attributes.createAttribute(H,u);a5.core.reflection.setReflection(H.constructor,H,G,H[G])}}};return{createAttribute:q,applyClassAttribs:o}});a5.SetNamespace("a5.core.classBuilder",true,function(){var G=[],y=false,C=[],q=[],r,p="_a5_constructFromCreate",v="_a5_baseConstruct",o="_a5_interfaceTest",A={},F=function(I,H){var J,K;if(typeof I==="string"){J=a5.GetNamespace(I);if(J===null){return a5.ThrowError(207,null,{className:I})}}else{J=I}if(typeof J!=="function"){return a5.ThrowError(207,null,{className:I})}return new J(p,H)},t=function(J,M,N){var L,I,K=J.replace(/\./g,"_");if(A[K]){var H=A[K];for(var L=0,I=H.length;L<I;L++){if(!H[L][M]){H[L][M]=N}}}if(A[K+"_"+M]){var H=A[K+"_"+M];for(L=0,I=H.length;L<I;L++){if(!H[L][M]){H[L][M]=N}}delete A[K+"_"+M]}},D=function(H,K,M,I,J,L){if(L){K.Properties=function(N){M.constructor._a5_protoProps=N}}K.Attributes=function(){return a5.core.attributes.createAttribute.call(M,K,arguments)};M.Override={};M.Final={};H.call(K,M,I,J);a5.core.mixins.prepareMixins(M);x(M);delete K.Attributes;if(L){delete K.Properties}delete M.Final;delete M.Override;for(r in M){if(({}).hasOwnProperty.call(M,r)&&typeof M[r]==="function"&&(J._a5_namespace==="a5.Object"||a5.core.classProxyObj.instance[r]===undefined)){if(r===M.className()){M.constructor._a5_instanceConst=M[r];a5.core.reflection.setReflection(J,M,r,M.constructor._a5_instanceConst);delete M[r]}else{a5.core.reflection.setReflection(J,M,r)}}}},x=function(J){var K=J.superclass(),H=J.constructor._a5_mixedMethods;if(!K){K={}}for(r in J){if(J.hasOwnProperty(r)&&typeof J[r]==="function"){if(r!=="Final"&&r!=="Override"&&r!=="constructor"&&r!=="prototype"&&r!=="dealloc"&&r!=="_a5_initialized"){if(K[r]&&K[r].toString().indexOf("[native code]")===-1){if(K[r].Final==true){return a5.ThrowError(201,null,{prop:r,namespace:J.namespace()})}return a5.ThrowError(200,null,{prop:r,namespace:J.namespace()})}else{var I=H[r];if(H[r]!==undefined&&I!==J[r]){return a5.ThrowError(220,null,{prop:r,namespace:J.namespace()})}}}}}J.constructor._a5_superMethods={};for(r in J.Override){if(K[r]===undefined&&H[r]===undefined){return a5.ThrowError(202,null,{prop:r,namespace:J.namespace()})}if(K[r]&&K[r].Final!==undefined&&K[r].Final===true||H[r]&&H[r].Final!==undefined&&H[r].Final===true){return a5.ThrowError(203,null,{prop:r,namespace:J.namespace()})}J[r]=J.Override[r];J.constructor._a5_superMethods[r]=(function(L){return function(){var M=[].slice.call(arguments,1),N=this;return function(){return L.apply(N,M)}}})(K[r])}for(r in J.Final){J[r]=J.Final[r];J[r].Final=true}},E=function(L){var ae,R,H,M,K,U,O,I,S=null,N=false,ac=false,P=false,Y=false,X=false,T=function(){var ai={pkg:L,imports:B(ae,L),clsName:R,cls:H,base:M,attribs:S,type:K,proto:U,implement:O,mixins:I,staticMethods:N,isInterface:P,isMixin:ac,enumDeclaration:Y,isProto:X},ah=a5.core.verifiers.validateClassDependencies(M,ai.imports,I,O,P,ac);if(ah===true){n(ai)}else{G.push({pkg:ai,reason:ah.reason,reasonNM:ah.reasonNM})}T=Q=ad=aa=af=J=Z=W=ag=ab=V=null},Q=function(){ae=Array.prototype.slice.call(arguments);return{Prototype:W,Static:af,Mixin:ag,Mix:ab,Extends:ad,Implements:aa,Interface:J,Class:Z}},ad=function(ah){M=ah;return{Prototype:W,Static:af,Import:Q,Mix:ab,Implements:aa,Interface:J,Class:Z}},ab=function(){I=Array.prototype.slice.call(arguments);return{Prototype:W,Static:af,Extends:ad,Implements:aa,Interface:J,Class:Z}},aa=function(ah){O=Array.prototype.slice.call(arguments);return{Prototype:W,Static:af,Mix:ab,Import:Q,Extends:ad,Class:Z}},af=function(ah,ai){if(typeof ah==="string"){R=ah;N=ai;T()}else{N=ah;return{Prototype:W,Implements:aa,Mix:ab,Mixin:ag,Import:Q,Extends:ad,Class:Z}}},J=function(ai,ah){R=ai;H=ah;P=true;T()},ag=function(){ac=true;var ai=Array.prototype.slice.call(arguments);R=ai[0];for(var aj=1,ah=ai.length;aj<ah;aj++){switch(typeof ai[aj]){case"string":K=ai[aj];break;case"object":if(Object.prototype.toString.call(ai[aj])==="[object Array]"){if(!S){S=[]}S.push(ai[aj])}break;case"function":H=ai[aj];break}}T()},V=function(ah,ai){R=ah;Y=ai;T()},Z=function(){var ai=Array.prototype.slice.call(arguments);R=ai[0];for(var aj=1,ah=ai.length;aj<ah;aj++){switch(typeof ai[aj]){case"string":K=ai[aj];break;case"object":if(Object.prototype.toString.call(ai[aj])==="[object Array]"){if(!S){S=[]}S.push(ai[aj])}break;case"function":H=ai[aj];break}}T()},W=function(){X=true;var ai=Array.prototype.slice.call(arguments);R=ai[0];for(var aj=1,ah=ai.length;aj<ah;aj++){switch(typeof ai[aj]){case"string":K=ai[aj];break;case"object":if(Object.prototype.toString.call(ai[aj])==="[object Array]"){if(!S){S=[]}S.push(ai[aj])}break;case"function":U=ai[aj];break}}T()};a5.SetNamespace(L);return{Enum:V,Static:af,Import:Q,Extends:ad,Mixin:ag,Mix:ab,Implements:aa,Class:Z,Prototype:W,Interface:J}},z=function(O,I){if(!this._a5_initialized){if(this.constructor.isInterface()){return a5.ThrowError(208,null,{nm:ref.namespace()})}if(this.constructor.isAbstract()){return a5.ThrowError(216,null,{nm:this.constructor.namespace()})}if(this.constructor.isSingleton()&&this.constructor._a5_instance!==null){return a5.ThrowError(217,null,{nm:this.constructor.namespace()})}var Q=this,H=this,K=O||[],R=[],M,L,J,N;this._a5_initialized=true;this._a5_instanceUID=this.namespace().replace(/\./g,"_")+"__"+this.constructor.instanceCount();if(this.instanceCount()===0){this.constructor._a5_instance=this}this.constructor._instanceCount++;var Q=this,H=this,K=O||[],R=[],M,L,J,N;(function(S){S.Super=function(){if(!S.constructor._a5_superclass.className){return a5.ThrowError(210)}var U=S.constructor._a5_superclass.prototype.constructor._a5_instanceConst;if(U){U.apply(S,arguments)}else{a5.ThrowError(211,null,{nm:S.constructor._a5_superclass.className()})}};for(var T in S.constructor._a5_superMethods){S.Super[T]=S.constructor._a5_superMethods[T].call(S)}})(this);if(typeof this.constructor._a5_instanceConst!=="function"){return a5.ThrowError(218,null,{clsName:this.className()})}while(H!==null){var P=H.constructor;if(P._a5_attribs){a5.core.attributes.applyClassAttribs(this,P._a5_attribs)}if(P._a5_protoProps!==undefined){R.unshift(P._a5_protoProps)}H=P.superclass&&P.superclass().constructor.namespace?P.superclass():null}a5.core.mixins.initializeMixins(this);for(L=0,J=R.length;L<J;L++){R[L].call(this)}if(O==p){this.constructor._a5_instanceConst.apply(this,I)}else{this.constructor._a5_instanceConst.apply(this,arguments)}a5.core.mixins.mixinsReady(this)}},w=function(S,N,V,J,Q,Z,ac,H,U){if(Q){if(N&&!N.isInterface()){return a5.ThrowError('Interface "'+S+'" cannot extend "'+N.namespace()+'", base class is not an interface.')}N=null}var I=function(){},O=Z===false||false,ad=false,R=false,Y=null,X=S.lastIndexOf("."),K=X>-1?S.substring(0,X):"",T=X>-1?S.substring(X+1):S,M,P,L,ae,ab,W;if(!N||N===undefined){N=(S=="a5.Object"?I:a5.Object)}P=function(ag,ah){var af=this;if(this.constructor._a5_clsDef){D(this.constructor._a5_clsDef,this,this,this.constructor.imports(),this.constructor)}if(ag!==o&&ag!==v){z.apply(this,arguments)}};if(J){M=J.split(/[ |]/);for(ab=0,W=M.length;ab<W;ab++){if(M[ab]=="final"){O=true}else{if(M[ab]=="singleton"){ad=true}else{if(M[ab]=="abstract"){R=true}}}}}if(a5.core.verifiers.checkNamespaceValid(S)){if(!N.isFinal||(N.isFinal()!=true)){if(N===Error){var aa={};aa.prototype=new N();P.prototype=aa;aa=null}else{P.prototype=new N(v)}Y=N}else{return a5.ThrowError("Cannot extend "+N.namespace()+", class marked as final.")}}else{return a5.ThrowError("Cannot create new class in namespace "+S+", definition already exists.")}L=P.prototype;ae=L.constructor=P;if(N.prototype.constructor._extenderRef){N.prototype.constructor._extenderRef.push(P)}ae._a5_superclass=Y;ae._a5_pkg=K;ae._a5_clsDef=V;ae._a5_clsName=T;ae._a5_namespace=S;ae._a5_imports=ac;ae._a5_isFinal=O;ae._a5_isAbstract=R;ae._a5_isSingleton=ad;ae._a5_isInterface=Q;ae._a5_isPrototype=Z||false;ae._a5_attribs=U;ae._mixinRef=N.prototype.constructor._mixinRef?N.prototype.constructor._mixinRef.slice(0):[];ae._implementsRef=N.prototype.constructor._implementsRef?N.prototype.constructor._implementsRef.slice(0):[];ae._a5_mixedMethods={};ae._a5_instance=null;ae._instanceCount=0;ae._extenderRef=[];L._a5_initialized=false;for(r in a5.core.classProxyObj.construct){ae[r]=a5.core.classProxyObj.construct[r]}if(N.namespace===undefined){for(r in a5.core.classProxyObj.instance){L[r]=a5.core.classProxyObj.instance[r]}}if(H){a5.core.mixins.applyMixins(L,H,ac)}return a5.SetNamespace(S,P)},s=function(){var H=false,K,I;for(K=0;K<G.length;K++){var L=G[K].pkg,J=a5.core.verifiers.validateClassDependencies(L.base,L.imports,L.mixins,L.implement);if(J===true){n(L,true);G.splice(K,1);K--;H=true}else{G[K].reason=J.reason;G[K].reasonNM=J.reasonNM}}if(H){s()}},u=function(J){var I=J.obj,H=J.pkgObj;D(H.proto,I,I.prototype,I.imports(),I,true)},n=function(N,J){var H=(typeof N.base==="function")?N.base:a5.GetNamespace(N.base,N.imports),K=w(N.pkg+"."+N.clsName,H,N.cls,N.type,N.isInterface,N.isProto,N.imports,N.mixins,N.attribs),O=J||false,R=true,L,I;if(N.staticMethods){N.staticMethods(K,N.imports)}if(N.proto&&y){C.push({obj:K,pkgObj:N});if(N.implement){q.push({pkgObj:N,obj:K})}}else{if(N.proto){u({obj:K,pkgObj:N})}if(N.implement){R=a5.core.verifiers.validateImplementation(N,K)}}if(!R){return}if(N.enumDeclaration){var M=0,P=[];N.enumDeclaration({startIndex:function(S){M=S},addValue:function(S){P.push(S)}});for(L=0,I=P.length;L<I;L++){K[P[L]]=M++}K.addValue=function(S){if(K[S]===undefined){K[S]=M++}};K.getValue=function(S){for(r in K){if(K[r]===S){return r}}return null}}if(N.isInterface){K.interfaceVals={};if(N.base!==null&&N.base!==undefined){var Q=a5.GetNamespace(N.base,N.imports);if(Q.isInterface()){for(r in Q.interfaceVals){if(K.interfaceVals[r]===undefined){K.interfaceVals[r]=Q.interfaceVals[r]}}}else{a5.ThrowError(204,null,{objNM:K.namespace(),clsNM:Q.namespace()})}}N.cls.call(K.interfaceVals,K.interfaceVals)}if(N.isMixin){K._mixinDef={Properties:function(S){K.prototype.constructor._a5_mixinProps=S},MustExtend:function(){K.prototype.constructor._a5_mixinMustExtend=arguments},MustMix:function(){K.prototype.constructor._a5_mixinMustMix=arguments}};N.cls.call(K._mixinDef,K._mixinDef,N.imports,K);if(typeof K._mixinDef[K.className()]==="function"){K._a5_instanceConst=K._mixinDef[K.className()];delete K._mixinDef[K.className()]}else{a5.ThrowError(205,null,{nm:K.namespace()})}delete K._mixinDef.Properties;delete K._mixinDef.Contract;delete K._mixinDef.MustExtend;delete K._mixinDef.MustMix}t(N.pkg,N.clsName,K);if(!O){s()}},B=function(Q,R,T){var L={},P,J,S,R,I,O,H,U,N;if(Q==undefined){Q=[]}Q.push(R+".*");for(P=0,J=Q.length;P<J;P++){S=Q[P],O=false,H=S.lastIndexOf(".");U=S.substr(0,S.length-2);if(S.charAt(S.length-1)=="*"){O=true}if(O){U=S.substr(0,S.length-2);R=a5.GetNamespace(U,null,true);if(R){for(r in R){N=R[r];if((typeof N==="function"||typeof N==="object")&&L[r]===undefined){L[r]=N}}}var K=U.replace(/\./g,"_");if(!A[K]){A[K]=[]}A[K].push(L)}else{I=H>-1?S.substr(H+1):S;U=S.substr(0,H);var N=a5.GetNamespace(S,null,true);if(N){if(L[I]===undefined){L[I]=N}}else{var M=U.replace(/\./g,"_")+"_"+I;if(!A[M]){A[M]=[]}A[M].push(L)}}}return L};a5.Create=F;a5.Package=E;a5._a5_verifyPackageQueueEmpty=function(){if(G.length){var J="",I,H;for(I=0,H=G.length;I<H;I++){J+='"'+G[I].pkg.pkg+"."+G[I].pkg.clsName+'", '+G[I].reason+' class missing: "'+G[I].reasonNM+'"'+(G.length>1&&I<G.length-1?", \n":"")}a5.ThrowError(206,null,{classPlural:G.length==1?"class":"classes",clsString:J})}};a5._a5_delayProtoCreation=function(H){y=H};a5._a5_createQueuedPrototypes=function(){for(var I=0,H=C.length;I<H;I++){u(C[I])}C=[];for(I=0,H=q.length;I<H;I++){a5.core.verifiers.validateImplementation(q[I].pkgObj,q[I].obj)}q=[]};a5._a5_processImports=B});a5.SetNamespace("a5.core.classProxyObj",{construct:{classPackage:function(n){return n?a5.GetNamespace(this._a5_pkg,null,true):this._a5_pkg},className:function(){return this._a5_clsName},namespace:function(){return this._a5_namespace},imports:function(){return this._a5_imports},doesImplement:function(n){return a5.core.verifiers.checkImplements(this,n)},doesExtend:function(n){return a5.core.verifiers.checkExtends(this,n)},doesMix:function(n){return a5.core.verifiers.checkMixes(this,n)},getAttributes:function(){return this._a5_attributes},instance:function(o,n){if(o===true){return this._a5_instance||a5.Create(this,n)}else{return this._a5_instance}},superclass:function(p,n){if(p!==undefined){if(typeof p==="object"&&p.isA5===true){if(typeof n!=="object"){n=[]}if(!this._a5_superclass.className){return a5.ThrowError(210)}var o=this._a5_superclass.prototype.constructor._a5_instanceConst;if(o){o.apply(p,n)}else{a5.ThrowError(211,null,{nm:this._a5_superclass.className()})}}else{a5.ThrowError(212,null,{nm:this.namespace()})}}else{return this._a5_superclass.prototype}},instanceCount:function(){return this._instanceCount},isInterface:function(){return this._a5_isInterface},isFinal:function(){return this._a5_isFinal},isSingleton:function(){return this._a5_isSingleton},isAbstract:function(){return this._a5_isAbstract},isPrototype:function(){return this._a5_isPrototype},isA5ClassDef:function(){return true},isA5:true},instance:{isA5:true,isA5ClassDef:function(){return false},getStatic:function(){return this.constructor},superclass:function(o,n){return this.constructor.superclass(o,n)},async:function(o,n){return a5.Async.apply(this,arguments)},cycle:function(){return a5.Cycle.apply(this,arguments)},getAttributes:function(){return this.constructor.getAttributes()},getAttributeValue:function(n){return this.constructor.getAttributeValue(n)},getMethods:function(o,p){var n=[];for(var q in this){if((o||({}).hasOwnProperty.call(this,q))&&typeof(this[q])==="function"&&a5.core.classProxyObj.instance[q]===undefined&&q.substr(0,4)!=="_a5_"&&(p||q.substr(0,1)!=="_")){n.push(q)}}return n},getProperties:function(o,q){var n=[],p=function(v,w){var s=v;while(s!==null){var u=s.constructor;if(u._a5_protoProps!==undefined){var t={};u._a5_protoProps.call(t);if(t[w]!==undefined){return true}}s=u.superclass&&u.superclass().constructor.namespace?u.superclass():null}return false};for(var r in this){if((o||!p(this,r))&&typeof(this[r])!=="function"&&a5.core.classProxyObj.instance[r]===undefined&&r.substr(0,4)!=="_a5_"&&(q||r.substr(0,1)!=="_")){n.push(r)}}return n},classPackage:function(n){return this.constructor.classPackage(n)},className:function(){return this.constructor.className()},getClass:function(){return this.constructor},namespace:function(){return this.constructor.namespace()},doesImplement:function(n){return this.constructor.doesImplement(n)},doesExtend:function(n){return this.constructor.doesExtend(n)},doesMix:function(n){return this.constructor.doesMix(n)},imports:function(){return this.constructor.imports()},dealloc:function(){},instanceCount:function(){return this.constructor.instanceCount()},isInterface:function(){return this.constructor.isInterface()},isFinal:function(){return this.constructor.isFinal()},isSingleton:function(){return this.constructor.isSingleton()},isAbstract:function(){return this.constructor.isAbstract()},isPrototype:function(){return this.constructor.isAbstract()},instanceUID:function(){return this._a5_instanceUID},destroy:function(){if(this._a5_initialized===true){var r=this,t,p,n,u,q,o;while(r!==null){var s=r.constructor;n=s._mixinRef;if(n&&n.length){for(q=0,o=n.length;q<o;q++){if(n[q]._mixinDef.dealloc!=undefined){n[q]._mixinDef.dealloc.call(this)}}}if(s.namespace){p=s.superclass?s.superclass():null;if(p&&p.dealloc!==undefined&&p.dealloc!==r.dealloc){r.dealloc.call(this)}r=p}else{r=null}}if(this.constructor._a5_instance===this){this.constructor._a5_instance=null}if(this.__proto__){this.__proto__=null}for(u in this){delete this[u]}}}}});a5.SetNamespace("a5.core.verifiers",{namespaceArray:[],validateImplementation:function(v,q){var r,p,n,s,A,w,u,o=function(C,B){for(var D in C){if(C[D]!==B[D]){return false}}return true};for(r=0,p=v.implement.length;r<p;r++){s=v.implement[r];try{A=new q("_a5_interfaceTest");A.Override={};A.Final={};A.Attributes=function(){var D=Array.prototype.slice.call(arguments);var F=D.pop();for(var E=0,C=D.length;E<C;E++){var B=D[E][0];if(B==="Contract"||B==="ContractAttribute"||B===a5.ContractAttribute){F.attributes=D[E]}}return F};w=a5.GetNamespace(s,q.imports());if(q._a5_clsDef){q._a5_clsDef.call(A,A,q.imports(),q)}}catch(t){throw t;return false}if(!w.isInterface()){return a5.ThrowError(213,null,{implNM:w.namespace(),objNM:q.namespace()})}for(n in w.interfaceVals){u=A[n]!==undefined;var z=w.interfaceVals[n],x=A[n];if(u&&typeof z==="object"&&x.attributes&&(x.attributes[0]==="Contract"||x.attributes[0]==="ContractAttribute"||x.attributes[0]===a5.ContractAttribute)){var y=true;for(var r=0,p=z.length;r<p;r++){y=y&&x.attributes.length>=(r+1)?o(z[r],x.attributes[r+1]):false}if(!y){return a5.ThrowError(601,null,{intNM:w.namespace(),implNM:q.namespace(),method:n})}}else{if(!u||(u&&typeof w.interfaceVals[n]!==typeof A[n])){return a5.ThrowError(214,null,{implNM:w.namespace(),objNM:q.namespace()})}}}q._implementsRef.push(w);A.destroy()}return true},checkNamespaceValid:function(p){for(var o=0,n=this.namespaceArray.length;o<n;o++){if(this.namespaceArray[o]==p){return false}}this.namespaceArray.push(p);return true},checkImplements:function(o,t){if(typeof t==="string"){t=a5.GetNamespace(t)}var s=o._implementsRef,r,q,p,n;while(s){for(r=0,n=s.length;r<n;r++){if(s[r]===t){return true}}s=o.superclass()?o.superclass().getStatic()._implementsRef:null}return false},checkExtends:function(n,q){var p=n._a5_superclass&&n._a5_superclass.prototype.className?n._a5_superclass:null;if(!p){return false}var o=(typeof q==="string")?a5.GetNamespace(q):q;if(!o){return false}while(p){if(p===o){return true}p=p._a5_superclass&&p._a5_superclass.prototype.className?p._a5_superclass:null}return false},checkMixes:function(o,q){if(typeof q==="string"){q=a5.GetNamespace(q)}if(!q){return false}for(var p=0,n=o._mixinRef.length;p<n;p++){if(o._mixinRef[p]===q){return true}}return false},validateClassDependencies:function(p,y,w,o,q,z){var x,u,v,t=null,n,r,A,s;if(p!==undefined){if(typeof p==="function"){t=p}else{t=a5.GetNamespace(p,y)}}x=true;if(p!==undefined&&!t){x=false;u="base";v=p}if(x&&w!==undefined){for(n in w){r=w[n];if(typeof r==="string"){A=a5.GetNamespace(r,y)}if(typeof A!=="function"){x=false;u="mixin";v=r}}}if(x&&o!==undefined){for(n in o){s=o[n];if(typeof s==="string"){A=a5.GetNamespace(s,y)}if(typeof A!=="function"){x=false;u="interface";v=s}}}return x?true:{reason:u,reasonNM:v}}});a5.SetNamespace("a5.core.mixins",{prepareMixins:function(s){var r=s,n=s.constructor._mixinRef,q,p,t,o;if(n.length){for(q=n.length-1,p=-1;q>p;q--){if(n[q]._a5_mixinMustExtend!==undefined){for(t in n[q]._a5_mixinMustExtend){o=n[q]._a5_mixinMustExtend[t];if(!s.doesExtend(a5.GetNamespace(o,s.imports()))){return a5.ThrowError(400,null,{mixinNM:n[q].namespace(),instNM:s.namespace(),clsNM:o.namespace()})}}}}}},initializeMixins:function(s){var r=s,n=s.constructor._mixinRef,q,p,t,o;if(n.length){for(q=n.length-1,p=-1;q>p;q--){if(n[q]._a5_mixinProps!==undefined){n[q]._a5_mixinProps.call(r)}}for(q=0,p=n.length;q<p;q++){n[q]._a5_instanceConst.call(r)}}},mixinsReady:function(r){var n=r.constructor._mixinRef,q,p,s,o;if(n.length){for(q=n.length-1,p=-1;q>p;q--){if(n[q]._a5_mixinMustMix!==undefined){for(s in n[q]._a5_mixinMustMix){o=n[q]._a5_mixinMustMix[s];if(!inst.doesMix(a5.GetNamespace(o))){return a5.ThrowError(401,null,{nm:n[q].namespace(),cls:o})}}}if(typeof n[q]._mixinDef.mixinReady==="function"){n[q]._mixinDef.mixinReady.call(r)}}}},applyMixins:function(w,v,o,u){var p={},v=typeof v==="string"?[v]:v,x=[],t,s,r,q,y;for(t=0,q=v.length;t<q;t++){y=a5.GetNamespace(v[t],typeof o==="function"?o():o);if(!y){return a5.ThrowError(404,null,{mixin:v[t]})}x.push(y);for(s=0,r=w.constructor._mixinRef.length;s<r;s++){if(w.constructor._mixinRef[s]===y){return a5.ThrowError(402,null,{nm:y.namespace()})}}for(var n in y._mixinDef){if(n!=="dealloc"&&n!=="Properties"&&n!=="mixinReady"&&n!=="MustExtend"&&n!=="Contract"){if(p[n]===undefined){if(u===undefined){w.constructor._a5_mixedMethods[n]=y._mixinDef[n]}w[n]=y._mixinDef[n];p[n]="mixed"}else{return a5.ThrowError(403,null,{method:n})}}}if(u){a5.core.mixins.initializeMixins(u,x,u)}else{w.constructor._mixinRef.push(y)}}}});a5.SetNamespace("a5.core.errorHandling",true,function(){var o=null;this.ThrowError=function(p,s,r){var q=typeof p,u;if(q==="string"){u=p}else{if(q==="number"){if(a5.GetNamespace("a5.ErrorDefinitions",null,true)){var u=a5.ErrorDefinitions[p];if(!u){u="Invalid error id "+p+" thrown: error not defined."}}else{u="Error id "+p+" thrown. Include a5.ErrorDefinitions for verbose information."}p=a5.Create(s||a5.Error,[u,a5.Error.FORCE_CAST_ERROR])}}if(u){p=a5.Create(s||a5.Error,[(r?n(u,r):u),a5.Error.FORCE_CAST_ERROR])}o=p;throw p};this._a5_getThrownError=function(){var p=o;o=null;return p};var n=function(q,p){for(var r in p){q=q.replace(new RegExp("{"+r+"}","g"),p[r])}return q}});a5.ThrowError=a5.core.errorHandling.ThrowError;a5._a5_getThrownError=a5.core.errorHandling._a5_getThrownError;a5.Package("a5").Prototype("Object",function(o,n){o.Object=function(){};o.mixins=function(p){if(p!==undefined){return a5.GetNamespace(p,this.imports())}else{return this.constructor._a5_mixedMethods}}});a5.Package("a5").Prototype("Attribute","singleton",function(p,n,o){p.Attribute=function(){}});a5.Package("a5").Extends("Attribute").Prototype("AspectAttribute",function(p,o,n){n.RETURN_NULL="_a5_aspectReturnsNull";n.SUCCESS="_a5_aspectSuccess";n.ASYNC="_a5_aspectAsync";n.FAILURE="_a5_aspectFailure";n.NOT_IMPLEMENTED="_a5_notImplemented";p.AspectAttribute=function(){p.superclass(this)};p.before=function(t,q,r,v,u,s){return n.NOT_IMPLEMENTED};p.after=function(u,r,s,w,v,t,q){return n.NOT_IMPLEMENTED};p.around=function(){return n.NOT_IMPLEMENTED}});a5.Package("a5").Class("AspectCallArguments",function(u,t,r){var n,q,p,s,v,o;u.AspectCallArguments=function(z,x,y,B,A,w){n=z;q=x;p=y;s=B;v=A;o=w};u.rules=function(){return n};u.args=function(){return q};u.scope=function(){return p};u.method=function(){return s};u.callback=function(){return v};u.beforeArgs=function(){return o}});a5.Package("a5").Extends("AspectAttribute").Class("ContractAttribute",function(o,n,r){o.ContractAttribute=function(){o.superclass(this)};o.Override.before=function(u){var v=null,w=false,t=function(x){x.message='Contract type failure on method "'+u.method().getName()+'" '+x.message;return x};if(u.rules().length>1){for(i=0,l=u.rules().length;i<l;i++){v=p(u.rules()[i],u.args());if(v instanceof a5.ContractException){o.throwError(t(v));return a5.AspectAttribute.FAILURE}if(v!==false){w=true;v.overloadID=i;break}}}else{w=true;v=p(u.rules()[0],u.args(),true);if(v instanceof a5.ContractException){o.throwError(t(v));return a5.AspectAttribute.FAILURE}}if(!w||v===false){o.throwError(t(new a5.ContractException("no matching overload found")));return a5.AspectAttribute.FAILURE}else{return v}};var p=function(y,u){var x={},w=0,t,z,v;for(z in y){v=y[z];t=s((w<u.length?u[w]:undefined),v,w);if(t instanceof a5.ContractException){return t}x[z]=t;w++}if(u.length>w){return false}if(u.length===0){if(w===0){return x}return false}return x},s=function(u,y,z){var x="type",v=false,A=null,w,t;if(y.indexOf("=")!=-1){w=y.split("=");y=w[0];v=true;A=w[1]}else{if(v){return new a5.ContractException("for argument "+z+", required values cannot be defined after optional values")}}if(y.indexOf(".")!==-1){x="class"}if(y==="array"){x="array"}if(y==="object"){x="object"}if(x!=="class"){y=y.toLowerCase()}if(u===undefined){if(v){u=q(y,x,A,z)}else{return new a5.ContractException("for argument "+z+', missing required argument of type "'+y+'"')}}if(u!==undefined&&u!==null){switch(x){case"class":t=a5.GetNamespace(y);if(t.isInterface()){if(!(u.doesImplement(t))){return new a5.ContractException("for argument "+z+", must implement interface "+y)}}else{if(!(u instanceof t)){return new a5.ContractException("for argument "+z+", must be an instance of type "+y)}}break;case"type":if(u!==null&&typeof u!==y){return new a5.ContractException("for argument "+z+", must be of type "+y)}break;case"array":if(Object.prototype.toString.call(u)!=="[object Array]"){return new a5.ContractException("for argument "+z+", must be an array")}break;case"object":if(u._a5_initialized!==undefined||typeof u!=="object"||u instanceof Array){return new a5.ContractException("for argument "+z+", must be a generic object")}break}}return u},q=function(u,t,z,v){var y,x=false;if(u==="string"){var w=z.charAt(0);if(w===z.charAt(z.length-1)){if(w==='"'||w==="'"){y=z.substr(1,z.length-2)}else{x=true}}else{x=true}}else{if(u==="number"){if(!isNaN(z)){y=parseInt(z)}else{x=true}}else{if(t==="class"){if(z==="null"){y=null}else{x=true}}else{if(u==="boolean"||u==="array"||u==="function"||u==="object"){switch(z){case"{}":if(u==="object"){y={}}else{x=true}break;case"[]":if(u==="array"){y=[]}else{x=true}break;case"null":y=null;break;case"true":if(u==="boolean"){y=true}else{x=true}break;case"false":if(u==="boolean"){y=false}else{x=true}break;default:x=true}}else{x=true}}}}if(x){return new a5.ContractException("for argument "+v+', invalid default value for data type "'+u+'"')}else{return y}}});a5.Package("a5").Extends("AspectAttribute").Class("PropertyMutatorAttribute",function(n){n.PropertyMutatorAttribute=function(){n.superclass(this)};n.Override.before=function(q){if(q.args().length){var o=q.rules()[0].validate,p=false;if(o){if(o.indexOf(".")!==-1){p=true;var o=a5.GetNamespace(o);if(!o){return a5.AspectAttribute.FAILURE}}var s=p?(q.args()[0] instanceof o):(typeof q.args()[0]===o);if(!s){return a5.AspectAttribute.FAILURE}}q.scope()[q.rules()[0].property]=q.args()[0];return a5.AspectAttribute.SUCCESS}var r=q.scope()[q.rules()[0].property]||null;return r===null||r===undefined?a5.AspectAttribute.RETURN_NULL:r};n.Override.after=function(o){if(o.beforeArgs().length){return o.scope()}else{return a5.AspectAttribute.SUCCESS}}});a5.Package("a5").Static(function(n){n.DESTROYED="Destroyed"}).Prototype("Event",function(n){this.Properties(function(){this._a5_type=null;this._a5_data=null;this._a5_target=null;this._a5_currentTarget=null;this._a5_phase=1;this._a5_bubbles=false;this._a5_canceled=false;this._a5_cancelPending=false;this._a5_shouldRetain=false});n.Event=function(p,o,q){this._a5_type=p;this._a5_data=q||null;this._a5_bubbles=o!==false};n.cancel=function(o){if(o===true){this._a5_cancelPending=true}else{this._a5_canceled=true}};n.target=function(){return this._a5_target};n.currentTarget=function(){return this._a5_currentTarget};n.type=function(){return this._a5_type};n.data=function(){return this._a5_data};n.phase=function(){return this._a5_phase};n.bubbles=function(){return this._a5_bubbles};n.shouldRetain=function(o){if(typeof o==="boolean"){this._a5_shouldRetain=o;return this}return this._a5_shouldRetain};n.dealloc=function(){this._a5_target=this._a5_currentTarget=null}});a5.Package("a5").Static("EventPhase",function(n){n.CAPTURING=1;n.AT_TARGET=2;n.BUBBLING=3});a5.Package("a5").Extends(Error).Prototype("Error",function(o,n,p){p.FORCE_CAST_ERROR="_a5_forceCastError";this.Properties(function(){this.stack=[];this.message="";this.name=this.type=this.className()});o.Error=function(r,q){if(typeof r==="string"){this.message=r}else{q=r}if(q instanceof p){if(q.stack){this.stack=q.stack.split("\n")}this.line=q.lineNumber;this.url=q.fileName;if(q.message&&this.message===""){this.message=q.message}}};o.Override.toString=function(){return this.type+": "+this.message}});a5.Package("a5").Extends("Error").Prototype("AssertException",function(n){n.AssertException=function(){n.superclass(this,arguments);this.type="AssertException"}});a5.Package("a5").Extends("Error").Prototype("ContractException",function(n){n.ContractException=function(){n.superclass(this,arguments);this.type="ContractException"}});a5.Package("a5").Static(function(n){n.ADD="eventDispatcherAdd";n.REMOVE="eventDispatcherRemove"}).Prototype("EventDispatcher","abstract",function(p,n,o){this.Properties(function(){this._a5_autoPurge=false;this._a5_listeners={}});p.EventDispatcher=function(){};p.autoPurge=function(q){if(typeof q==="boolean"){this._a5_autoPurge=q;return this}return this._a5_autoPurge};p.addEventListener=function(s,t,q,r){this._a5_addEventListener(s,t,q,r)};p.addOneTimeEventListener=function(s,t,q,r){this._a5_addEventListener(s,t,q,r,true)};p.hasEventListener=function(x,q){var w=x.split("|"),y=this.cl(),v,t,s,u,r;for(v=0,t=w.length;v<t;v++){s=this._a5_getListenerArray(w[v]);if(s){for(u=0,r=s.length;u<r;u++){if(s[u].type==w[v]&&(typeof q==="function"?(s[u].method==q):true)){return true}}}}return false};p.removeEventListener=function(A,q,s,B,w){var z=A.split("|"),r=true,y,v,u,x,t;B=B||null;w=w||false;s=s===true;for(y=0,v=z.length;y<v;y++){u=this._a5_getListenerArray(z[y]);if(u){for(x=0,t=u.length;x<t;x++){if(u[x].method===q&&u[x].type===z[y]&&u[x].useCapture===s&&u[x].isOneTime===w){u.splice(x,1);t=u.length}}this.eListenersChange({type:z.length>1?z:z[0],method:q,useCapture:s,changeType:o.REMOVE})}}};p.removeAllListeners=function(){if(this._a5_listeners){this._a5_listeners={}}};p.getTotalListeners=function(r){if(typeof r==="string"){var q=this._a5_getListenerArray(r);if(q){return q.length}else{return 0}}else{var s=0;for(var t in this._a5_listeners){s+=this._a5_listeners[t].length}return s}};p.dispatchEvent=function(s,t,q,r){var u=this._a5_createEvent(s,t,q);u._a5_phase=a5.EventPhase.AT_TARGET;if(r===false){this.async(this._a5_dispatchEvent,[u])}else{this._a5_dispatchEvent(u)}if(!u.shouldRetain()){u.destroy()}u=null};p.eListenersChange=function(q){};p._a5_addEventListener=function(A,q,B,C,D){var E=C||null,z=A.split("|"),w=D||false,s=B===true,r=true,y,v,u,x,t;if(z.length!=0&&q!=undefined){for(y=0,v=z.length;y<v;y++){u=this._a5_getListenerArray(z[y],true);for(x=0,t=u.length;x<t;x++){if(u[x].method===q&&u[x].type===z[y]&&u[x].useCapture===s&&u[x].scope===E&&u[x].isOneTime===w){r=false;break}}if(r){u.push({type:z[y],method:q,scope:E,useCapture:s===true,isOneTime:w})}}this.eListenersChange({type:z.length>1?z:z[0],method:q,changeType:o.ADD})}else{throw"invalid listener: type- "+A+", method- "+q}};p._a5_createEvent=function(r,s,q){var t=(typeof r==="string")?new a5.Event(r,q):r;if(t instanceof a5.Event||t.doesExtend&&t.doesExtend(a5.Error)){t._a5_target=this;if(s){t._a5_data=s}return t}throw"Invalid event type."};p._a5_dispatchEvent=function(v){v._a5_currentTarget=this;if(this._a5_listeners){var w=this._a5_getListenerArray(v.type()),s,q,r,u,t;if(w){for(s=0,q=w.length;s<q;s++){r=w?w[s]:null;if(v._a5_canceled||!r){return}u=(v.phase()===a5.EventPhase.CAPTURING&&r.useCapture)||(v.phase()!==a5.EventPhase.CAPTURING&&!r.useCapture),t=typeof r.method==="function"&&(r.scope&&r.scope.namespace?r.scope._a5_initialized:true);if(u&&t&&(r.scope==null||r.scope._a5_initialized)){r.method.call(r.scope,v)}if(r.isOneTime===true||(!t&&this._a5_autoPurge)){w.splice(s,1);s--;q--}}}}};p._a5_getListenerArray=function(r,q){if(this._a5_listeners[r]===undefined){if(q===true){this._a5_listeners[r]=[];return this._a5_listeners[r]}return null}return this._a5_listeners[r]};p.dealloc=function(){this.dispatchEvent(new a5.Event(a5.Event.DESTROYED));this.removeAllListeners();this._a5_listeners=null}});a5.SetNamespace("a5.ErrorDefinitions",{100:'invalid namespace "{namespace}", namespaces must contain only letters, numbers, or periods.',101:"TrackWindowStrays must be called prior to GetWindowStrays.",200:'Invalid attempt to define new method "{prop}" in class "{namespace}", without calling override, method exists in superclass.',201:'Invalid attempt to override method "{prop}" in class "{namespace}", method marked as Final in superclass.',202:'Invalid attempt to override method "{prop}" in class "{namespace}", method not defined in superclass.',203:'Invalid attempt to override method "{prop}" in class "{namespace}", method marked as Final in superclass.',204:'Interface "{objNM}" cannot extend the non interface class "{clsNM}"',205:'Mixin "{nm}" doesn not specify a constructor.',206:"Class definitions not found for the following expected {classPlural}: \n {clsString}",207:"Error creating new class instance: cannot find object {className}.",208:"Cannot instantiate class {nm} , interfaces must be associated by the Implements directive.",209:"Error creating class instance {nm} ({errorStr})",210:"Superclass called on an object without a superclass.",211:'Constructor not defined on class "{nm}"',212:'invalid scope argument passed to superclass constructor on class "{nm}".',213:'Cannot implement "{implNM}" on class "{objNM}", class is not an interface.',214:'Invalid implementation of interface "{implNM}" , on class "{objNM}".',215:'Destroy called on core object "{nm}"',216:'Cannot directly instantiate class "{nm}", class marked as abstract.',217:'Cannot create new instance of class "{nm}", class marked as singleton already exists.',218:'Constructor not defined on class "{clsName}"',219:'Class "{currClass}" requires "{checkedClass}"',220:'Invalid attempt to define new method "{prop}" in class "{namespace}", without calling override, method exists in mixin.',300:'Invalid attribute definition: "Attributes" call must take a function as its last parameter.',301:"Invalid attribute definition: No attributes were defined.",302:"Attribute error: Attributes call accepts only arrays as attribute annotations.",303:"Attribute error: First parameter must be a reference to a class that extends a5.Attribute.",304:"Attribute error: invalid parameter specified for Attribute, params must be key/value pair objects.",305:"Attribute error: no parameters passed to Attribute call.",308:'Error processing attribute "{prop}", "{method}" must return a value.',400:'Mixin "{mixinNM}" requires mixing object "{instNM}" to extend class "{clsNM}" .',401:'Mixin "{nm}" requires owner class to mix "{cls}".',402:'Mixin "{nm}" already mixed into ancestor chain.',403:'Invalid mixin: Method "{method}" defined by more than one specified mixin.',404:'Invalid mixin: Mixin "{mixin}" does not exist.',601:"Invalid implementation of Contract on interace {intNM} in class {implNM} for method {method}."})})(typeof global!=="undefined"?global:this);(function(global){a5.SetNamespace("a5.cl",true,function(){var initializer=null,inst,createCalled=false,createCallbacks=[];var Instance=function(){return inst},CreateApplication=function(props,callback){if(!createCalled){createCalled=true;if(a5.cl.CLMain._extenderRef.length===0){var str="A5 CL requires a class that extends a5.cl.CLMain.";throw str}else{if(typeof props==="function"){callback=props;props=undefined}if(props===undefined){props={}}if(callback&&typeof callback==="function"){CreateCallback(callback)}var initializeComplete=function(){inst=new a5.cl.CL(props||{},initializer);for(var i=0,l=createCallbacks.length;i<l;i++){createCallbacks[i](inst)}createCallbacks=null;if(initializer!==null){initializer.applicationInitialized(inst)}inst._cl_launch()};if(initializer!==null){initializer.initialize(props,initializeComplete)}else{initializeComplete()}return function(){return a5.cl.CL.instance()}}}else{throw"Error: a5.cl.CreateApplication can only be called once."}},RegisterInitializer=function(_initializer){if(initializer==null){initializer=_initializer}else{throw"initializer error"}},CreateCallback=function(callback){createCallbacks.push(callback)};return{Instance:Instance,CreateApplication:CreateApplication,RegisterInitializer:RegisterInitializer,CreateCallback:CreateCallback}});a5.Package("a5.cl").Extends("a5.EventDispatcher").Prototype("CLBase",function(proto){this.Properties(function(){this._cl_mvcName=null});proto.CLBase=function(){proto.superclass(this)};proto.cl=function(){return a5.cl.CL.instance()};proto.getClassInstance=function(type,className){return this.cl()._core().instantiator().getClassInstance(type,className)};proto.log=function(value){var plgn=this.plugins().getRegisteredProcess("logger");if(plgn){return plgn.log.apply(this,arguments)}else{if("console" in window){console.log.apply(console,arguments)}}};proto.warn=function(value){var plgn=this.plugins().getRegisteredProcess("logger");if(plgn){return plgn.warn.apply(this,arguments)}else{if("console" in window){console.warn.apply(console,arguments)}}};proto.plugins=function(){return this.cl().plugins()};proto.appParams=function(){return this.cl().appParams()}});a5.Package("a5.cl").Extends("a5.cl.CLBase").Prototype("CLInitializer",function(cls,im){cls.CLInitializer=function(){cls.superclass(this);a5.cl.RegisterInitializer(this)};cls.initialize=function(props,callback){throw"Classes extending CLInitializer must override initialize method without calling super."};cls.load=function(arr,complete,progress){return false};cls.applicationInitialized=function(inst){}});a5.Package("a5.cl").Extends("a5.Error").Prototype("CLError",function(proto,im){proto.CLError=function(){proto.superclass(this,arguments);this.type="CLError"}});a5.Package("a5.cl").Enum("CLLaunchState",function(cls){cls.addValue("APPLICATION_INITIALIZING");cls.addValue("DEPENDENCIES_LOADING");cls.addValue("DEPENDENCIES_LOADED");cls.addValue("AUTO_INSTANTIATION_COMPLETE");cls.addValue("PLUGINS_LOADED");cls.addValue("LAUNCH_INTERCEPTED");cls.addValue("APPLICATION_WILL_LAUNCH");cls.addValue("APPLICATION_LAUNCHED")});a5.Package("a5.cl").Extends("a5.Event").Static(function(CLEvent){CLEvent.ONLINE_STATUS_CHANGE="onlineStatusChange";CLEvent.ERROR_THROWN="errorThrown";CLEvent.APPLICATION_INITIALIZING="applicationInitializing";CLEvent.CORE_LOADED="coreLoaded";CLEvent.DEPENDENCIES_LOADING="dependenciesLoading";CLEvent.DEPENDENCIES_LOADED="dependenciesLoaded";CLEvent.AUTO_INSTANTIATION_COMPLETE="autoInstantiationComplete";CLEvent.PLUGINS_LOADED="pluginsLoaded";CLEvent.APPLICATION_PREPARED="applicationPrepared";CLEvent.LAUNCH_INTERCEPTED="launchIntercepted";CLEvent.APPLICATION_WILL_LAUNCH="applicationWillLaunch";CLEvent.APPLICATION_LAUNCHED="applicationLaunched";CLEvent.APPLICATION_WILL_CLOSE="applicationWillClose";CLEvent.APPLICATION_CLOSED="applicationClosed";CLEvent.WINDOW_RESIZED="windowResized";CLEvent.APPLICATION_WILL_RELAUNCH="applicationWillRelaunch";CLEvent.GLOBAL_UPDATE_TIMER_TICK="globalUpdateTimerTick";CLEvent.ASYNC_START="asyncStart";CLEvent.ASYNC_COMPLETE="asyncComplete";CLEvent.ORIENTATION_CHANGED="orientationChanged";CLEvent.CLIENT_ENVIRONMENT_UPDATED="clientEnvironmentUpdated";CLEvent.APPLICATION_ERROR="applicationError"}).Prototype("CLEvent",function(proto,im){proto.CLEvent=function(){proto.superclass(this,arguments)}});a5.Package("a5.cl.interfaces").Interface("IHTMLTemplate",function(cls){cls.populateTemplate=function(){}});a5.Package("a5.cl.interfaces").Interface("ILogger",function(cls){cls.log=function(){}});a5.Package("a5.cl.interfaces").Interface("IServiceURLRewriter",function(cls){cls.rewrite=function(){}});a5.Package("a5.cl.interfaces").Interface("ILaunchInterceptor",function(cls){cls.interceptLaunch=function(){}});a5.Package("a5.cl.interfaces").Interface("IDataCacheProvider",function(IDataCacheProvider){IDataCacheProvider.isAvailable=function(){};IDataCacheProvider.cacheExists=function(){};IDataCacheProvider.storeValue=function(){};IDataCacheProvider.getValue=function(){};IDataCacheProvider.clearValue=function(){};IDataCacheProvider.clearScopeValues=function(){}});a5.Package("a5.cl.interfaces").Interface("IBindableReceiver",function(cls){cls.receiveBindData=function(){}});a5.Package("a5.cl.core").Extends("a5.cl.CLBase").Class("PluginManager","singleton final",function(self){var plugins=[],addOns=[],processes={animation:null,htmlTemplate:null,serviceURLRewriter:null,logger:null,dataCacheProvider:null,launchInterceptor:null,presentationLayer:null};this.PluginManager=function(){self.superclass(this);self.plugins()["getRegisteredProcess"]=this.getRegisteredProcess};this.instantiatePlugins=function(){var classes=[],i,l,plugin,pi,cfg,obj;for(i=0,l=a5.cl.CLPlugin._extenderRef.length;i<l;i++){if(a5.cl.CLPlugin._extenderRef[i]!==a5.cl.CLAddon){classes.push(a5.cl.CLPlugin._extenderRef[i])}}for(i=0,l=a5.cl.CLAddon._extenderRef.length;i<l;i++){addOns.push(a5.cl.CLAddon._extenderRef[i]);classes.push(a5.cl.CLAddon._extenderRef[i])}for(i=0,l=classes.length;i<l;i++){plugin=classes[i];if(!plugin.isAbstract()){pi=plugin.instance(true);cfg=pi._cl_sourceConfig();obj=a5.cl.core.Utils.mergeObject(cfg||{},pi.configDefaults());pi._cl_isFinal=pi._cl_isSingleton=true;if(!a5.cl.core.Utils.testVersion(pi.requiredVersion())){throw'Error - plugin "'+plugin.className()+'" requires at least CL version '+pi.requiredVersion();return}if(pi.maxVerifiedVersion()&&!self.config().allowUntestedPlugins&&!a5.cl.core.Utils.testVersion(pi.maxVerifiedVersion(),true)){throw"Error - untested version";return}pi._cl_pluginConfig=obj;if(pi instanceof a5.cl.CLAddon){if(a5.cl.CLBase.prototype[plugin.className()]===undefined){a5.cl.CLBase.prototype[plugin.className()]=function(){var p=pi;return function(){return p}}()}}else{if(self.plugins()[plugin.className()]==undefined){self.plugins()[plugin.className()]=function(){var p=pi;return function(){return p}}()}}plugins.push(pi)}}for(var i=0,l=plugins.length;i<l;i++){var checkResult=checkRequires(plugins[i]);if(checkResult){throw'Error: plugin "'+plugins[i].className()+'" requires plugin "'+checkResult;return}plugins[i].initializePlugin()}a5.cl.PluginConfig=function(){throw new a5.cl.CLError("Invalid call to MVC pluginConfig method: method must be called prior to plugin load.")}};this.defineRegisterableProcess=function(process){processes[process]=null};this.registerForProcess=function(type,instance){var val=processes[type];if(val===null){processes[type]=instance}else{if(val===undefined){self.redirect(500,"Error registering process for type '"+type+"', type does not exist.")}else{self.warn("Multiple plugins trying to register for process '"+type+"'.")}}};this.getRegisteredProcess=function(type){return processes[type]};this.processAddons=function(callback){var count=0,processAddon=function(){if(count>=addOns.length){callback();return}else{var addOn=addOns[count].instance(),isAsync=addOn.initializeAddOn()===true;count++;if(isAsync){addOn.addOneTimeEventListener(a5.cl.CLAddon.INITIALIZE_COMPLETE,processAddon)}else{processAddon()}}};processAddon()};var checkRequires=function(plugin){var r=plugin._cl_requires;for(var i=0,l=r.length;i<l;i++){if(!a5.GetNamespace(r[i],null,true)){return r[i]}}return false}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("Instantiator","singleton final",function(self,im){var applicationPackage,_applicationPackageInstance,namespaceArray=[["services",[a5.cl.CLService,a5.cl.CLSocket,a5.cl.CLAjax]]];this.Instantiator=function($applicationPackage){self.superclass(this);applicationPackage=$applicationPackage;_applicationPackageInstance=a5.SetNamespace(applicationPackage)};this.applicationPackage=function(returnString){if(returnString){return applicationPackage}else{return _applicationPackageInstance}};this.registerAutoInstantiate=function(name,clsArray){namespaceArray.push([name,clsArray])};this.Override.getClassInstance=function(type,className,instantiate){var instance=null,namespace=null;if(className.indexOf(".")!==-1){namespace=a5.GetNamespace(className)}else{namespace=getClassNamespace(type,className)}if(namespace){instance=namespace.instance(!!instantiate)}return instance};this.createClassInstance=function(clsName,type){var cls=getClassNamespace(type,clsName),instance,clsPath=null;if(cls){var clsInstance;clsInstance=(cls._a5_instance===null)?new cls():cls.instance();clsInstance._cl_setMVCName(clsName);return clsInstance}else{return null}};this.beginInstantiation=function(){for(var i=0,l=namespaceArray.length;i<l;i++){var liveNamespace=a5.GetNamespace(applicationPackage+"."+namespaceArray[i][0],null,true);if(liveNamespace&&typeof liveNamespace=="object"){for(var prop in liveNamespace){if(typeof liveNamespace[prop]==="function"){var instance=new liveNamespace[prop];liveNamespace[prop]._cl_isFinal=true;if(namespaceArray[i][0]==="domains"){instance._name=prop;liveNamespace[prop]._a5_isSingleton=true}else{instance._name=prop.substr(0,prop.toLowerCase().indexOf(namespaceArray[i][0].substr(0,namespaceArray[i][0].length-1)))}var isValid=false;for(var j=0,m=namespaceArray[i][1].length;j<m;j++){if(instance instanceof namespaceArray[i][1][j]){isValid=true}}if(!isValid){self.redirect(500,"Error instantiating "+namespaceArray[i][0]+" class "+instance.namespace()+", must extend "+namespaceArray[i][1].namespace())}}}}}self.cl().dispatchEvent(im.CLEvent.AUTO_INSTANTIATION_COMPLETE)};var getClassNamespace=function(type,clsName){return a5.GetNamespace(applicationPackage+"."+type.toLowerCase()+"s."+clsName+(type=="domain"?"":(type.substr(0,1).toUpperCase()+type.substr(1))))}});a5.Package("a5.cl.core").Static("Utils",function(Utils){Utils.isAbsolutePath=function(url){return(url.indexOf("://")!==-1||url.substr(0,1)=="/")};Utils.makeAbsolutePath=function(url){return Utils.isAbsolutePath(url)?(url.substr(0,1)=="/"?a5.cl.Instance().initializer().environmentManager().appPath(true)+url:url):(a5.cl.Instance().initializer().environmentManager().appPath()+url)};Utils.trim=function(str){if(!str){return str}return str.replace(/(^\s+)|(\s+$)/g,"").replace(/\s{2,}/," ")};Utils.mergeObject=function(mergeObj,sourceObj,$setSourceObj){var setSourceObj=$setSourceObj||false,retObj,prop;if(mergeObj==null){return sourceObj}if(sourceObj==null){return mergeObj}function recursiveMerge(sourceObj,mergeObj){for(prop in mergeObj){if(prop!=="prototype"&&prop!=="constructor"){if(sourceObj[prop]!==undefined&&sourceObj[prop]!==null&&sourceObj[prop]!==sourceObj){if(typeof sourceObj[prop]==="object"){if(Object.prototype.toString.call(sourceObj[prop])==="[object Array]"){if(Object.prototype.toString.call(mergeObj[prop])==="[object Array]"){sourceObj[prop]=sourceObj[prop].concat(mergeObj[prop])}}else{sourceObj[prop]=recursiveMerge(sourceObj[prop],mergeObj[prop])}}else{sourceObj[prop]=mergeObj[prop]}}else{sourceObj[prop]=mergeObj[prop]}}}return sourceObj}retObj=recursiveMerge(sourceObj,mergeObj);if(setSourceObj){sourceObj=retObj}return retObj};Utils.deepClone=function(obj){if(typeof obj!=="object"||obj==null){return obj}var c=Utils.isArray(obj)?[]:{};for(var i in obj){var value=obj[i];if(typeof value=="object"){if(Utils.isArray(value)){c[i]=[];for(var j=0,l=value.length;j<l;j++){if(typeof value[j]!="object"){c[i].push(value[j])}else{c[i].push(Utils.deepClone(value[j]))}}}else{c[i]=Utils.deepClone(value)}}else{c[i]=value}}return c};Utils.initialCap=function(str){return str.substr(0,1).toUpperCase()+str.substr(1)};Utils.validateHexColor=function(color){return/^#(([a-fA-F0-9]){3}){1,2}$/.test(color)};Utils.expandHexColor=function(color){if(a5.cl.core.Utils.validateHexColor(color)){if(color.length===4){return"#"+color.substr(1,1)+color.substr(1,1)+color.substr(2,1)+color.substr(2,1)+color.substr(3,1)+color.substr(3,1)}else{return color}}else{return"#000000"}};Utils.arrayIndexOf=function(array,value){for(var x=0,y=array.length;x<y;x++){if(array[x]===value){return x}}return -1};Utils.arrayContains=function(array,value){return Utils.arrayIndexOf(array,value)!==-1};Utils.isArray=function(array){return Object.prototype.toString.call(array)==="[object Array]"};Utils.testVersion=function(val,isMax){var parseVersionString=function(val){val=val.split(".");return{major:parseInt(val[0])||0,minor:val.length>1&&parseInt(val[1])||0,build:val.length>2&&parseInt(val[2])||0}};isMax=isMax||false;var versionVal=parseVersionString(a5.Version()),testVal=parseVersionString(String(val));if(versionVal.major!==testVal.major){return isMax?(versionVal.major<testVal.major):(versionVal.major>testVal.major)}else{if(versionVal.minor!==testVal.minor){return isMax?(versionVal.minor<testVal.minor):(versionVal.minor>testVal.minor)}else{if(versionVal.build!==testVal.build){return isMax?(versionVal.build<testVal.build):(versionVal.build>testVal.build)}else{return true}}}};Utils.viewInStack=function(view){var appView=a5.cl.mvc.core.AppViewContainer.instance();while(view){if(view===appView){return true}view=view.parentView()}return false}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("RequestManager","final",function(self,im){var defaultContentType,defaultMethod,reqArray,asyncRunning=false,JSON="JSON" in global?global.JSON:a5.cl.core.JSON,reqCount;this.RequestManager=function(defMethod,defType){self.superclass(this,arguments);reqArray=[];reqCount=0;defaultContentType=defType;defaultMethod=defMethod};this.asyncRunning=function(){return asyncRunning};this.processItem=function(props,reqID){var req;var reqComplete=function($req){if(getPropsForID(reqID)){var req=this;if(req.readyState==4){var response,retData,status=req.status;if(status!==500){if(props.isJson){response=req.responseText;if(a5.cl.core.Utils.trim(response)!==""){response=JSON.parse(response);retData=(props.dataProp&&props.dataProp!==undefined)?response[props.dataProp]:response}}else{if(props.isXML&&req.responseXML){response=req.responseXML}else{response=req.responseText}}if(retData===undefined){retData=response}}if(status==200||(status==0)){self.success(reqID,retData)}else{self.onError(reqID,status,retData||req.responseText)}self.reqComplete(reqID)}}},updateProgress=function(e){self.updateProgress(reqID,e)},onError=function(e){self.onError(reqID,req.status,e)},createAppend=function(data,isGet){var retString=isGet?"?":"";for(var prop in data){retString+=prop+"="+data[prop]+"&"}return retString.substr(0,retString.length-1)},contentType=null;req=XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("MSXML2.XMLHTTP.3.0");if(req!==undefined){var method=props.method||defaultMethod,data=props.data||null,urlAppend=method=="GET"?createAppend(props.data,true):"";if(data){if(props.formData===true){contentType="multipart/form-data";var fd=new FormData();for(var prop in data){fd.append(prop,data[prop])}data=fd}else{if(props.isJson){data=JSON.stringify(data)}else{contentType="application/x-www-form-urlencoded";data=createAppend(data,false)}}}if(contentType===null){contentType=defaultContentType}if(props.contentType){contentType=props.contentType}props.isJson=props.isJson!==undefined?props.isJson:(contentType&&contentType.toLowerCase().indexOf("json")!=-1?true:false);props.isXML=(!props.isJson&&contentType.toLowerCase().indexOf("xml"))!=-1?true:false;props.charSet=props.charSet||null;if(req.addEventListener!=undefined){req.addEventListener("progress",updateProgress,false)}if(XMLHttpRequest){req.onerror=onError}req.onreadystatechange=reqComplete;req.open(method,props.url+urlAppend,true);if(props.formData!==true){req.setRequestHeader("Content-type",contentType)}if(!props.allowCache&&method=="POST"){req.setRequestHeader("cache-control","no-cache")}if(props.charSet){req.setRequestHeader("charset",props.charSet)}req.send(data)}else{if(props.error){props.error("client does not support XMLHTTPRequests")}}};this.abortRequest=function(id){for(var i=0;i<reqArray.length;i++){if(reqArray[i].id===id){reqArray[i].abort();reqArray.splice(i,1);return}}self.redirect(500,"Cannot abort request; invalid identifier sent to abortRequest method.")};this.makeRequest=function(props){if((reqArray.length===0||isSilent())&&props.silent!==true){asyncRunning=true;self.cl().dispatchEvent(im.CLEvent.ASYNC_START)}var reqID=reqCount++;props.url=a5.cl.core.Utils.makeAbsolutePath(props.url);var obj={props:props,id:reqID,abort:function(){self.abortRequest(this.id)}};reqArray.push(obj);self.processItem(props,reqID);return obj};this.success=function(id,data){var props=getPropsForID(id);if(props.success){props.success.call(self,data)}};this.reqComplete=function(id){unqueueItem(id);if(reqArray.length===0||checkSilentReq()){asyncRunning=false;self.cl().dispatchEvent(im.CLEvent.ASYNC_COMPLETE)}};this.updateProgress=function(id,e){var props=getPropsForID(id);if(props.progress){props.progress.call(self,e)}};this.onError=function(id,status,errorObj){if(status!=200&&status!=0){var props=getPropsForID(id);if(props&&props.error){props.error.call(self,status,errorObj)}else{throw errorObj}}};var checkSilentReq=function(){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].props.silent!==true){return false}}return true};var getPropsForID=function(id){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].id==id){return reqArray[i].props}}};var unqueueItem=function(value){var isNumber=typeof value=="number";for(var i=0,l=reqArray.length;i<l;i++){if((isNumber&&reqArray[i].id==value)||reqArray[i]==value){reqArray.splice(i,1);return}}};var isSilent=function(){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].props.silent===true){return true}}return false}});a5.cl.core.JSON=function(){var self=this;var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;var init=function(){if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}};var stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw"JSON stringify error."}return str("",{"":value})};var parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")};var f=function(n){return n<10?"0"+n:n};function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}init();return{stringify:stringify,parse:parse}}();a5.Package("a5.cl.core").Static(function(DataCache){DataCache.enabled=function(){return DataCache.instance().enabled()};DataCache.cacheExists=function(){return DataCache.instance().cacheExists()};DataCache.isAvailable=function(){return DataCache.instance().isAvailable()};DataCache.storeValue=function(key,value){return DataCache.instance().storeValue(key,value)};DataCache.getValue=function(key){return DataCache.instance().getValue(key)};DataCache.clearValue=function(key){return DataCache.instance().clearValue(key)};DataCache.clearScopeValues=function(scope,exceptions){return DataCache.instance().clearScopeValues(scope,exceptions)};DataCache.validateCacheKeyPrefix=function(key){return DataCache.instance().validateCacheKeyPrefix(key)};DataCache.removeCacheKeyPrefix=function(key){return DataCache.instance().removeCacheKeyPrefix(key)}}).Extends("a5.cl.CLBase").Class("DataCache","singleton final",function(self,im){var _enabled,cacheKeys,provider;this.DataCache=function(cacheEnabled){self.superclass(this);_enabled=cacheEnabled;cacheKeys=[]};this.enabled=function(){return _enabled};this.isAvailable=function(){getCacheProvider().isAvailable()};this.cacheExists=function(){return getCacheProvider().cacheExists()};this.storeValue=function(key,value){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().storeValue(key)}else{return false}};this.getValue=function(key){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().getValue(key)}};this.clearValue=function(key){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().clearValue(key)}};this.clearScopeValues=function(scope,$exceptions){return getCacheProvider().clearScopeValues(scope,$exceptions)};this.validateCacheKeyPrefix=function(key){for(var i=0,l=cacheKeys.length;i<l;i++){if(cacheKeys[i]==key){return false}}cacheKeys.push(key);return true};this.removeCacheKeyPrefix=function(key){for(var i=0,l=cacheKeys.length;i<l;i++){if(cacheKeys[i]==key){cacheKeys.splice(i,1);return}}};var checkCacheKey=function(key){var isInCache=false;for(var i=0,l=cacheKeys.length;i<l;i++){if(key.substr(cacheKeys[i])!=-1){isInCache=true;break}}return isInCache};var getCacheProvider=function(){if(!provider){provider=self.plugins().getRegisteredProcess("dataCacheProvider")}return provider}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("GlobalUpdateTimer","singleton final",function(self,im){var timer,clInstance,interval,evtInstance=new im.CLEvent(im.CLEvent.GLOBAL_UPDATE_TIMER_TICK);this.GlobalUpdateTimer=function(_interval){self.superclass(this);interval=_interval;clInstance=self.cl();evtInstance.shouldRetain(true)};this.startTimer=function(){if(!timer){timer=setInterval(update,interval)}};this.stopTimer=function(){this._cl_killTimer()};var update=function(){clInstance.dispatchEvent(evtInstance)};this._cl_killTimer=function(){if(timer){clearInterval(timer);timer=null}}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent","a5.cl.CLLaunchState").Extends("a5.cl.CLBase").Class("Core","singleton final",function(self,im){var _cache,_params,_requestManager,_globalUpdateTimer,_instantiator,_pluginManager,_launchState;this.Core=function(params){self.superclass(this);_params=params;_instantiator=new im.Instantiator(params.applicationPackage)};this.instantiator=function(){return _instantiator};this.cache=function(){return _cache};this.requestManager=function(){return _requestManager};this.pluginManager=function(){return _pluginManager};this.globalUpdateTimer=function(){return _globalUpdateTimer};this.launchState=function(){return _launchState};this.relaunch=function(){self.cl().dispatchEvent(im.CLEvent.APPLICATION_WILL_RELAUNCH);window.location.reload()};this.config=function(){return _params};this.initializeCore=function($environment,$clientEnvironment){updateLaunchStatus("APPLICATION_INITIALIZING");_globalUpdateTimer=new im.GlobalUpdateTimer(_params.globalUpdateTimerInterval);_requestManager=new im.RequestManager(_params.requestDefaultMethod,_params.requestDefaultContentType);_pluginManager=new im.PluginManager();_cache=new im.DataCache(_params.cacheEnabled);updateLaunchStatus("CORE_LOADED");var loadPaths=self.config().dependencies;if(loadPaths.length){if(self.cl().initializer()){var implemented=self.cl().initializer().load(loadPaths,dependenciesLoaded,function(e){updateLaunchStatus("DEPENDENCIES_LOADING",e)});if(implemented==false){dependenciesLoaded()}}else{dependenciesLoaded()}}else{dependenciesLoaded()}};var dependenciesLoaded=function(){updateLaunchStatus("DEPENDENCIES_LOADED");_pluginManager.instantiatePlugins();updateLaunchStatus("PLUGINS_LOADED");updateLaunchStatus("APPLICATION_PREPARED");_instantiator.beginInstantiation();var plgn=_pluginManager.getRegisteredProcess("launchInterceptor");if(plgn){var intercept=plgn.interceptLaunch(launchApplication);if(intercept){updateLaunchStatus("LAUNCH_INTERCEPTED",{interceptor:plgn})}else{launchApplication()}}else{launchApplication()}};var launchApplication=function(){_pluginManager.processAddons(addOnsLoaded)};var addOnsLoaded=function(){updateLaunchStatus("APPLICATION_WILL_LAUNCH");updateLaunchStatus("APPLICATION_LAUNCHED")};var updateLaunchStatus=function(type,e){_launchState=im.CLLaunchState[type];self.cl().dispatchEvent(im.CLEvent[type],e)}});a5.Package("a5.cl.mixins").Import("a5.cl.core.DataCache").Mixin("DataStore",function(proto,im,DataStore){this.Properties(function(){this._cl_cacheKeyValidated=false;this._cl_prefix=null;this._cl_validatedPrefix=null});proto.DataStore=function(){};proto.cacheExists=function(){return im.DataCache.cacheExists()};proto.storeValue=function(key,value){if(im.DataCache.isAvailable()&&value!==undefined){return im.DataCache.storeValue(this._cl_createCacheKey(key),value)}else{return false}};proto.keyPrefix=function(value){if(typeof value==="string"){this._cl_prefix=value;return this}return this._cl_prefix};proto.getValue=function(key){if(im.DataCache.isAvailable()){return im.DataCache.getValue(this._cl_createCacheKey(key))}else{return false}};proto.clearValue=function(key){if(im.DataCache.isAvailable()){return im.DataCache.clearValue(this._cl_createCacheKey(key))}else{return false}};proto.clearScopeValues=function(exceptions){if(im.DataCache.isAvailable()){im.DataCache.clearScopeValues(this.instanceUID(),exceptions)}else{return false}};proto._cl_createCacheKey=function(key){if(!this._cl_cacheKeyValidated||!this._cl_validatedPrefix){var prefix=(this._cl_prefix||(this.id?this.id():false)||this.instanceUID());this._cl_cacheKeyValidated=im.DataCache.validateCacheKeyPrefix(prefix);if(!this._cl_cacheKeyValidated){a5.ThrowError("Error: Duplicate cache key prefix: "+prefix);return}this._cl_validatedPrefix=prefix}return this._cl_validatedPrefix+"_"+key};proto.dealloc=function(){im.DataCache.removeCacheKeyPrefix(this._cl_validatedPrefix)}});a5.Package("a5.cl.mixins").Mixin("BindableSource",function(mixin,im){this.Properties(function(){this._cl_receivers=null;this._cl_bindParamType=null;this._cl_bindParamRequired=false;this._cl_bindParamCallback=null});mixin.BindableSource=function(){this._cl_receivers=[]};mixin.bindParamProps=function(type,required,callback){this._cl_bindParamType=type;if(required!==undefined){this._cl_bindParamRequired=required}if(callback!==undefined){this._cl_bindParamCallback=callback}return this};mixin.bindParamType=function(){return this._cl_bindParamType};mixin.bindParamRequired=function(){return this._cl_bindParamRequired};mixin.notifyReceivers=function(data,params){for(var i=0,l=this._cl_receivers.length;i<l;i++){var r=this._cl_receivers[i];if(params===undefined||params===r.params){if(this._cl_bindParamRequired||(!data&&this._cl_bindParamCallback!==null)){data=this._cl_bindParamCallback.call(this,r.params)}if(data!==null&&data!==undefined){r.receiver.receiveBindData.call(r.scope||r.receiver,this._cl_modifyBindData(data,r.mapping))}}}};mixin._cl_attachReceiver=function(receiver,params,mapping,scope){this._cl_receivers.push({receiver:receiver,params:params,mapping:mapping,scope:scope});this.notifyReceivers()};mixin._cl_detachReceiver=function(receiver){for(var i=0,l=this._cl_receivers.length;i<l;i++){var r=this._cl_receivers[i];if(r.receiver===receiver){this._cl_receivers.splice(i,1);break}}};mixin._cl_modifyBindData=function(dataSource,mapping){var data,isQuery=false;if(dataSource instanceof a5.cl.CLQueryResult){isQuery=true}if(isQuery){data=dataSource._cl_data}else{data=dataSource}if(mapping){var dataSet=[],skipProps={};for(var i=0,l=data.length;i<l;i++){var dataRow={};for(var prop in mapping){dataRow[prop]=data[i][mapping[prop]];skipProps[mapping[prop]]=prop}for(var prop in data[i]){if(skipProps[prop]===undefined){dataRow[prop]=data[i][prop]}}dataSet.push(dataRow)}if(isQuery){dataSource._cl_data=dataSet;return dataSource}else{return dataSet}}else{return dataSource}}});a5.Package("a5.cl.mixins").Mixin("Binder",function(mixin,im){this.Properties(function(){this._cl_bindingsConnected=true;this._cl_bindings=[]});mixin.Binder=function(){this._cl_bindings=[]};mixin.setBindingEnabled=function(value){if(value!==this._cl_bindingsConnected){for(var i=0,l=this._cl_bindings.length;i<l;i++){var b=this._cl_bindings[i];if(b.persist!==true){if(value){b.source._cl_attachReceiver(b.receiver,b.params,b.mapping,b.scope)}else{b.source._cl_detachReceiver(b.receiver)}}}this._cl_bindingsConnected=value}};mixin.bindingsConnected=function(){return this._cl_bindingsConnected};mixin.bind=function(source,receiver,params,mapping,scope,persist){if(!this._cl_checkBindExists(source,receiver,params)){if(source.isA5ClassDef()){source=source.instance()}if(!source.doesMix("a5.cl.mixins.BindableSource")){return this.throwError('source "'+source.className()+'" of bind call must mix a5.cl.mixins.BindableSource.')}if(receiver.isA5ClassDef()){receiver=receiver.instance()}if(!receiver.doesImplement("a5.cl.interfaces.IBindableReceiver")){return this.throwError('receiver "'+receiver.className()+'" of call bind must implement a5.cl.interfaces.IBindableReceiver.')}var hasParams=params!==undefined&&params!==null,isNM=false,pType=null;if(source.bindParamRequired()||params){var isValid=true;if(!hasParams){isValid=false}else{if(source.bindParamType()!==null){pType=source.bindParamType();if(typeof pType==="string"&&pType.indexOf(".")!==-1){pType=a5.GetNamespace(pType)}if(pType.namespace){isNM=true;var nmObj=pType.namespace();if(!(params instanceof pType)){isValid=false}}else{if(typeof params!==source.bindParamType()){isValid=false}}}}if(!isValid){this.throwError('params required for binding source "'+source.namespace()+'"'+(pType!==null?' must be of type "'+(isNM?pType.namespace():pType)+'"':""));return}}this._cl_bindings.push({source:source,scope:scope,receiver:receiver,mapping:mapping,params:params,persist:persist});if(this.bindingsConnected()){source._cl_attachReceiver(receiver,params,mapping,scope)}}};mixin.unbind=function(source,receiver){var found=false;for(var i=0,l=this._cl_bindings.length;i<l;i++){var obj=this._cl_bindings[i];if(obj.source===source&&obj.receiver===receiver){this._cl_bindings.splice(i,1);found=true;break}}if(found){source._cl_detachReceiver(receiver)}else{this.throwError('cannot unbind source "'+source.namespace()+'" on controller "'+this.namespace()+'", binding does not exist.')}};mixin._cl_checkBindExists=function(source,receiver,params){for(var i=0,l=this._cl_bindings.length;i<l;i++){var b=this._cl_bindings[i];if(b.source===source&&b.receiver===receiver&&b.params===params){return true}}return false}});a5.Package("a5.cl").Extends("CLBase").Prototype("CLService","abstract",function(proto,im){this.Properties(function(){this._cl_url=null;this._cl_isJson=true});proto.CLService=function(url){proto.superclass(this);this._cl_url=url};proto.url=function(){var plgn=this.plugins().getRegisteredProcess("serviceURLRewriter");if(plgn){return plgn.rewrite(this._cl_url)}return this._cl_url};proto.isJson=function(value){if(value!==undefined){this._cl_isJson=value}return this._cl_isJson}});a5.Package("a5.cl").Extends("a5.Attribute").Class("SerializableAttribute","abstract",function(cls){cls.SerializableAttribute=function(){}});a5.Package("a5.cl").Import("a5.cl.core.JSON").Extends("CLService").Static(function(CLSocket){CLSocket.supportsSockets=function(){return"WebSocket" in window?true:false}}).Prototype("CLSocket","abstract",function(proto,im,CLSocket){this.Properties(function(){this._cl_socket=null;this._cl_socketOnMessage=null});proto.CLSocket=function(url){proto.superclass(this,[url]);if(CLSocket.supportsSockets()){this._cl_socket=new WebSocket(url);var self=this;this._cl_socketOnMessage=function(e){var data=self.isJson()?im.JSON.parse(e.data):e.data;self.dataReceived(data)}}};proto.send=function(m,callback){if(CLSocket.supportsSockets()){var self=this;self._cl_socket.onmessage=self._cl_socketOnMessage;var sendMsg=function(){self._cl_socket.onopen=null;if(callback){self._cl_socket.onmessage=function(e){var data=self.isJson()?a5.cl.core.JSON.parse(e.data):e.data;callback(data);self._cl_socket.onmessage=self._cl_socketOnMessage}}self._cl_socket.send(m);return null};switch(this._cl_socket.readyState){case 0:this._cl_socket.onopen=sendMsg;break;case 1:sendMsg();break;case 2:this._cl_socket.onopen=sendMsg;this._cl_socket.connect();break}}else{throw"Error sending data to socket "+this.mvcName()+", Web Sockets are not supported in this browser."}};proto.dataReceived=function(data){};proto.close=function(){if(this._cl_socket){this._cl_socket.close()}};proto.dealloc=function(){if(this._cl_socket&&this._cl_socket.readyState===2){this.close()}}});a5.Package("a5.cl").Extends("CLService").Mix("a5.cl.mixins.BindableSource").Prototype("CLAjax","abstract",function(proto,im){this.Properties(function(){this._cl_ajaxStruct=null;this._cl_silent=false});proto.CLAjax=function(url,props){proto.superclass(this,[url]);this._cl_ajaxStruct=props};proto.call=function(m,data,callback,props){var callObj=this._cl_ajaxStruct?a5.cl.core.Utils.deepClone(this._cl_ajaxStruct):{};if(props){for(var prop in callObj){if(props[prop]==undefined){props[prop]=callObj[prop]}}}else{props=callObj}if(data){if(data.isA5Class){props.data=a5.Attribute.processInstance(data)}props.data=data}props.isJson=this.isJson();props.success=callback;if(this._cl_silent){props.silent=true}if(m){if(this.url().indexOf("?")==-1&&m.charAt(0)!=="/"){m="/"+m}}else{m=""}props.url=this.url()+m;return a5.cl.core.RequestManager.instance().makeRequest(props)};proto.abort=function(id){return a5.cl.core.RequestManager.instance().abort(id)};proto.silent=function(value){if(typeof value==="boolean"){this._cl_silent=value;return this}return this._cl_silent}});a5.Package("a5.cl").Extends("a5.AspectAttribute").Static(function(AjaxCallAttribute){AjaxCallAttribute.CANCEL_CYCLE="ajaxCallAttributeCancelCycle"}).Class("AjaxCallAttribute",function(cls,im,AjaxCallAttribute){var cycledCalls={},data={};cls.AjaxCallAttribute=function(){cls.superclass(this)};cls.Override.before=function(aspectArgs){var data=null,args=aspectArgs.args()?Array.prototype.slice.call(aspectArgs.args()):[],argsCallback=null,rules=aspectArgs.rules().length?aspectArgs.rules()[0]:{},propObj=null;if(rules.takesData===true&&args.length){data=args.shift()}if(rules.props){propObj=rules.props}if(rules.hasErrorCallback){if(!propObj){propObj={}}propObj.error=args.pop()}if(rules.hasCallback===true&&args.length&&typeof args[0]==="function"){argsCallback=args.shift()}var executeCall=function(){if(rules.cacheResponse&&getData(aspectArgs.method())){setTimeout(function(){args.unshift(getData(aspectArgs.method()));if(argsCallback){argsCallback(args)}aspectArgs.callback()(args)},0)}else{aspectArgs.scope().call(aspectArgs.method().getName(),data,function(response){if(rules.cacheResponse){storeData(aspectArgs.method(),response)}args.unshift(response);if(argsCallback){argsCallback(args)}aspectArgs.callback()(args)},propObj)}};if(args[0]===AjaxCallAttribute.CANCEL_CYCLE){if(aspectArgs.method()._cl_cycleID){clearInterval(aspectArgs.method()._cl_cycleID);delete aspectArgs.method()._cl_cycleID}return a5.AspectAttribute.ASYNC}if(rules.cycle){if(!aspectArgs.method()._cl_cycleID){aspectArgs.method()._cl_cycleID=setInterval(function(){aspectArgs.method().apply(aspectArgs.scope(),args)},rules.cycle);executeCall()}else{executeCall()}}else{executeCall()}return a5.AspectAttribute.ASYNC};var getData=function(method){return data[method.getClassInstance().instanceUID()+"_"+method.getName()]};var storeData=function(method,value){data[method.getClassInstance().instanceUID()+"_"+method.getName()]=value}});a5.Package("a5.cl").Extends("a5.AspectAttribute").Class("BoundAjaxReturnAttribute",function(cls){cls.BoundAjaxReturnAttribute=function(){cls.superclass(this)};cls.Override.before=function(aspectArgs){if(aspectArgs.rules().length&&aspectArgs.rules()[0].receiverMethod!==undefined){aspectArgs.rules()[0].receiverMethod.call(null,aspectArgs.args()[0])}else{aspectArgs.scope().notifyReceivers(aspectArgs.args()[0],aspectArgs.method().getName())}return a5.AspectAttribute.SUCCESS}});a5.Package("a5.cl").Extends("CLBase").Prototype("CLPlugin","abstract",function(proto,im){this.Properties(function(){this._cl_pluginConfig=null;this._cl_configDefaults={};this._cl_requiredVersion="0";this._cl_maxVerifiedVersion=null;this._cl_requires=[]});proto.CLPlugin=function(){proto.superclass(this)};proto.pluginConfig=function(){return this._cl_pluginConfig};proto.requires=function(val){this._cl_requires.push(val)};proto.requiredVersion=function(value){if(value!==undefined){this._cl_requiredVersion=value}return this._cl_requiredVersion};proto.maxVerifiedVersion=function(value){if(value!==undefined){this._cl_maxVerifiedVersion=value}return this._cl_maxVerifiedVersion};proto.configDefaults=function(value){if(value!==undefined){this._cl_configDefaults=value}return this._cl_configDefaults};proto.initializePlugin=function(){};proto.registerForProcess=function(type){this.cl()._core().pluginManager().registerForProcess(type,this)};proto._cl_sourceConfig=function(){var cfg=a5.cl.CLMain._cl_storedCfgs.pluginConfigs;var pkg=this.classPackage();if(String(pkg[pkg.length-1]).toLowerCase()!=this.className().toLowerCase()){pkg=pkg+"."+this.constructor.className()}for(var prop in cfg){var pluginCfg=cfg[prop];if(pluginCfg.nm&&(pluginCfg.nm===pkg||pluginCfg.nm===this.constructor.className())){return pluginCfg.obj}}return{}}});a5.Package("a5.cl").Extends("CLPlugin").Prototype("CLAddon","abstract",function(proto,im,CLAddon){CLAddon.INITIALIZE_COMPLETE="clAddonInitializeComplete";proto.CLAddon=function(){proto.superclass(this)};proto.initializeAddOn=function(){return false};proto.createMainConfigMethod=function(type){a5.cl.CLMain.prototype["set"+type.substr(0,1).toUpperCase()+type.substr(1)]=function(){a5.cl.CLMain._cl_storedCfgs[type]=Array.prototype.slice.call(arguments)}};proto.getMainConfigProps=function(type){return a5.cl.CLMain._cl_storedCfgs[type]};proto.registerAutoInstantiate=function(){a5.cl.core.Instantiator.instance().registerAutoInstantiate.apply(null,arguments)};proto.defineRegisterableProcess=function(process){this.cl()._core().pluginManager().defineRegisterableProcess(process)}});a5.Package("a5.cl").Extends("CLBase").Mix("a5.cl.mixins.Binder").Class("CL","singleton",function(cls,im){var _params,_initializer,_config,core,main;cls._cl_plugins={};cls.CL=function(params,initializer){cls.superclass(this);var searching=true,clsDef=a5.cl.CLMain;do{if(clsDef.isPrototype()&&clsDef._extenderRef.length==0){searching=false;return}if(clsDef._extenderRef[0].isPrototype()){clsDef=clsDef._extenderRef[0]}else{main=new clsDef._extenderRef[0](params);searching=false}}while(searching);_params=main._cl_params();_initializer=initializer;core=new a5.cl.core.Core(_params);_config=params;if(_config.breakOnDestroyedMethods==true){a5._a5_destroyedObjFunc=Function("debugger;")}};cls._cl_launch=function(){core.initializeCore((_params.environment||null),(_params.clientEnvironment||null))};cls.main=function(){return main};cls.initializer=function(){return _initializer};cls.launchState=function(){return core.launchState()};cls.applicationBuild=function(){return _config.applicationBuild};cls.appName=function(){return _config.appName};cls.applicationPackage=function(){return core.instantiator().applicationPackage.apply(cls,arguments)};cls.Override.appParams=function(){return a5.cl.CLMain._cl_storedCfgs.appParams};cls.environment=function(){return _config.environment};cls.Override.plugins=function(){return cls._cl_plugins};cls.relaunch=function(){core.relaunch()};cls._core=function(){return core};cls.asyncRunning=function(){return core.requestManager().asyncRunning()};cls.Override.eListenersChange=function(e){var ev=a5.cl.CLEvent.GLOBAL_UPDATE_TIMER_TICK;if(e.type===ev){if(cls.getTotalListeners(ev)>0){core.globalUpdateTimer().startTimer()}else{core.globalUpdateTimer().stopTimer()}}}});a5.Package("a5.cl").Extends("CLBase").Static(function(CLMain){CLMain._cl_storedCfgs={appParams:{},pluginConfigs:[]}}).Prototype("CLMain","abstract",function(proto,im,CLMain){var configDefaults={allowUntestedPlugins:false,applicationBuild:null,appName:"",breakOnDestroyedMethods:false,cacheEnabled:true,dependencies:[],environment:"DEVELOPMENT",globalUpdateTimerInterval:10,requestDefaultContentType:"application/json",requestDefaultMethod:"POST"},_params;proto.CLMain=function(params){proto.superclass(this);if(CLMain._extenderRef.length>1){throw new a5.cl.CLError('Invalid class "'+this.namespace()+'", a5.cl.CLMain must only be extended by one subclass.')}if(this.getStatic().instanceCount()>1){throw new a5.cl.CLError('Invalid duplicate instance of a5.cl.CLMain subclass "'+this.getStatic().namespace()+'"')}for(var prop in configDefaults){if(params[prop]===undefined){params[prop]=configDefaults[prop]}}_params=params;_params.applicationPackage=this.classPackage();proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_WILL_RELAUNCH,this.applicationWillRelaunch,false,this);proto.cl().addEventListener(im.CLEvent.ONLINE_STATUS_CHANGE,this.onlineStatusChanged,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_CLOSED,this.applicationClosed,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.DEPENDENCIES_LOADED,this.dependenciesLoaded,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.PLUGINS_LOADED,this.pluginsLoaded,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.AUTO_INSTANTIATION_COMPLETE,this.autoInstantiationComplete,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_WILL_LAUNCH,this.applicationWillLaunch,false,this);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_LAUNCHED,this.applicationLaunched,false,this)};proto.allowUntestedPlugins=function(val){_params.allowUntestedPlugins=val};proto.appName=function(val){_params.appName=val};proto.applicationBuild=function(val){_params.applicationBuild=val};proto.breakOnDestroyedMethods=function(val){_params.breakOnDestroyedMethods=val};proto.cacheEnabled=function(val){_params.cacheEnabled=val};proto.dependencies=function(val){_params.dependencies=val};proto.environment=function(val){_params.environment=val};proto.globalUpdateTimerInterval=function(val){_params.globalUpdateTimerInterval=val};proto.requestDefaultContentType=function(val){_params.requestDefaultContentType=val};proto.requestDefaultMethod=function(val){_params.requestDefaultMethod=val};proto._cl_params=function(){return _params};proto.setAppParams=function(obj){CLMain._cl_storedCfgs.appParams=obj};proto.setPluginConfig=function(namespace,obj){CLMain._cl_storedCfgs.pluginConfigs.push({nm:namespace,obj:obj})};proto.dependenciesLoaded=function(){};proto.pluginsLoaded=function(){};proto.onlineStatusChanged=function(isOnline){};proto.autoInstantiationComplete=function(){};proto.applicationWillLaunch=function(){};proto.applicationLaunched=function(){};proto.applicationWillClose=function(){};proto.applicationClosed=function(){};proto.applicationWillRelaunch=function(){}})})(typeof global!=="undefined"?global:this);