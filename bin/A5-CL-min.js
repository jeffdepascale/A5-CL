(function(f){var e=null,d=null,c=function(m,j,o){var r,p,n,k;if(!m){return null}o=o||false;if(typeof m==="object"){return m}r=m.split(".");k=f;if(r.length===1&&j&&j[m]){return j[m]}for(p=0,n=r.length;p<n;p++){k=k[r[p]];if(k===undefined){if(d){try{var s=d(m,j);if(s){return s}}catch(q){return null}}else{return null}}}if(o||k.namespace!==undefined){return k}return null},h=function(k,p,o){var r=typeof p==="boolean",n=r?p:false,q,j=(r?o:p)||{},q=k.split("."),s=q.pop(),m;if(!k.match(/^[A-Za-z0-9.]*$/)){return a5.ThrowError(100,null,{namespace:k})}m=q.length?b(q):f;if(m[s]!==undefined){return m[s]}return m[s]=n?new j():j},b=function(n){var m=f,k,j;for(k=0,j=n.length;k<j;k++){if(!m[n[k]]){m[n[k]]={}}m=m[n[k]]}return m},g=function(){e={};for(var j in f){e[j]=""}},a=function(j){if(!e){a5.ThrowError(101)}else{var m=[],k;for(k in f){if(e[k]===undefined){m.push(k)}}if(j===true){g()}return m}};f.a5={Version:function(){return"0.5.{BUILD_NUMBER}"},GetNamespace:c,SetNamespace:h,TrackGlobalStrays:g,GetGlobalStrays:a,RegisterNamespaceResolver:function(j){d=j},CreateGlobals:function(){f.Create=a5.Create;f.Package=a5.Package;f.GetNamespace=a5.GetNamespace;f.SetNamespace=a5.SetNamespace}};a5.SetNamespace("a5.core.reflection",true,function(){var j={getName:function(){return this._a5_methodName},getClass:function(){return this._a5_ownerClass},getClassInstance:function(){return this._a5_ownerInstance},getAttributes:function(){return this._a5_attributes?this._a5_attributes:null}},k=function(m,o,p,n){n=n||o[p];n._a5_ownerInstance=o;n._a5_ownerClass=m;n._a5_methodName=p;n.getName=j.getName;n.getClass=j.getClass;n.getClassInstance=j.getClassInstance;n.getAttributes=j.getAttributes};return{setReflection:k}});a5.SetNamespace("a5.core.attributes",true,function(){var n=function(q,s){var x=Array.prototype.slice.call(s),u,G,F,E,D,y,v={},o=false;if(!x.length){return a5.ThrowError(305)}u=typeof x[x.length-1]==="function"?x.pop():null;if(u!==null&&typeof u!=="function"){return a5.ThrowError(300)}if(!x.length){return a5.ThrowError(301)}for(G=0,D=x.length;G<D;G++){var w=x[G];if(Object.prototype.toString.call(w)!=="[object Array]"){return a5.ThrowError(302)}for(F=0,E=w.length;F<E;F++){var B=w[F],y=typeof B;if(F==0){var H=false,C=null;if(y!=="string"){if(y==="function"){C=B}else{H=true}}else{var r=a5.GetNamespace(B,q.imports());if(!r){r=a5.GetNamespace(B+"Attribute",q.imports())}if(r){C=w[F]=r}else{H=true}}if(!H&&(!C.isA5||!C.doesExtend(a5.Attribute))){H=true}else{if(!H&&C.doesExtend(a5.AspectAttribute)){o=true}}if(H){return a5.ThrowError(303)}}else{if(y!=="object"||Object.prototype.toString.call(B)==="[object Array]"){return a5.ThrowError(304)}}}}for(G=0,D=x.length;G<D;G++){var p=x[G],A=[];for(var F=1,E=p.length;F<E;F++){A.push(p[F])}x[G]=[p[0],A];v[p[0].className()]=A}if(!o){if(!u){u=function(){}}u._a5_attributes=v;return u}v.wrappedMethod=u;var z=function(){var M,I,K,U=[],Q=this,M,O=0;if(u){for(var I in z){u[I]=z[I]}}K=z.caller;do{if(K.getClassInstance!==undefined){M=K}else{K=K.caller}}while(K!==null&&!M);for(var N=0,L=x.length;N<L;N++){var T=x[N][0],S=T.instance(true),R=x[N][1];U.push({cls:S,props:R})}var P=function(X,W,V){J(O,X,W,V)},J=function(W,ab,ad,X){if(ab){if(Object.prototype.toString.call(ab)!=="[object Array]"){ab=[ab]}}else{ab=[]}if(!X){X=ab}if(W>=U.length){if(ad){return ab[0]}else{return t(ab,X)}}var aa,ad=ad||false,Z=false,Y=false,ac=function(ae){P.call(this,ae||ab,ad,X)};var V=new a5.AspectCallArguments(U[W].props,ab,Q,z,ac,M,X);aa=U[W].cls.around(V);if(aa===a5.AspectAttribute.NOT_IMPLEMENTED){aa=U[W].cls[(ad?"after":"before")](V)}else{Z=true}if(aa!==null&&aa!==undefined){switch(aa){case a5.AspectAttribute.NOT_IMPLEMENTED:case a5.Attribute.SUCCESS:aa=ab;break;case a5.Attribute.ASYNC:Y=true;break;case a5.Attribute.RETURN_NULL:aa=null;break;case a5.Attribute.FAILURE:return}}else{return a5.ThrowError(308,null,{prop:I,method:Z?"around":(ad?"after":"before")})}O=W+1;if(!Y){return J(O,aa,ad,ab,X)}},t=function(W,V){O=0;var X=u?u.apply(Q,W):undefined;if(X!==undefined){X=[X]}else{X=W}return J(0,X,true,V)};return J(O,Array.prototype.slice.call(arguments))};z._a5_attributes=v;return z},m=function(){for(i=0,l=a5.Attribute._extenderRef.length;i<l;i++){new a5.Attribute._extenderRef[i]()}},j=function(x,v){var w=v.split("|");for(var t=0,q=w.length;t<q;t++){var o=w[t],p=o.charAt(0)==="*",y=o.charAt(o.length-1)==="*",u=x.indexOf(o),s=u!==-1;if(s){return true}if(p&&x.indexOf(o.substr(1))===0){return true}if(y&&x.indexOf(o.substr(0,o.length-1))>-1){return true}}return false},k=function(E,q){var s=E.getMethods(),C=Array.prototype.slice;for(var z=0,t=s.length;z<t;z++){var D=s[z],o=E[D],r=[];for(var x=0,u=q.length;x<u;x++){var B=C.call(q[x]);if(B.length>1){var y=B[B.length-1],p=false,w=true,v=y.include,A=y.exclude;if(v!==undefined){p=true;if(typeof v==="object"){w=D.match(v).length>0}else{w=j(D,v)}}if(A!==undefined){p=true;if(typeof A==="object"){w=D.match(A)}else{w=j(D,A)}}if(p){B.pop()}if(w){r.push(B)}}else{r.push(B)}}if(r.length){r.push(o);E[D]=a5.core.attributes.createAttribute(E,r);a5.core.reflection.setReflection(E.constructor,E,D,E[D])}}};return{createAttribute:n,applyClassAttribs:k}});a5.SetNamespace("a5.core.classBuilder",true,function(){var D=[],v=false,z=[],n=[],o,m="_a5_constructFromCreate",s="_a5_baseConstruct",k="_a5_interfaceTest",x={},C=function(F,E){var G,H;if(typeof F==="string"){G=a5.GetNamespace(F);if(G===null){return a5.ThrowError(207,null,{className:F})}}else{G=F}if(typeof G!=="function"){return a5.ThrowError(207,null,{className:F})}return new G(m,E)},q=function(G,J,K){var I,F,H=G.replace(/\./g,"_");if(x[H]){var E=x[H];for(var I=0,F=E.length;I<F;I++){if(!E[I][J]){E[I][J]=K}}}if(x[H+"_"+J]){var E=x[H+"_"+J];for(I=0,F=E.length;I<F;I++){if(!E[I][J]){E[I][J]=K}}delete x[H+"_"+J]}},A=function(E,H,J,F,G,I){if(I){H.Properties=function(K){J.constructor._a5_protoProps=K}}H.Attributes=function(){return a5.core.attributes.createAttribute.call(J,H,arguments)};J.Override={};J.Final={};E.call(H,J,F,G);a5.core.mixins.prepareMixins(J);u(J);delete H.Attributes;if(I){delete H.Properties}delete J.Final;delete J.Override;for(o in J){if(({}).hasOwnProperty.call(J,o)&&typeof J[o]==="function"&&(G._a5_namespace==="a5.Object"||a5.core.classProxyObj.instance[o]===undefined)){if(o===J.className()){J.constructor._a5_instanceConst=J[o];a5.core.reflection.setReflection(G,J,o,J.constructor._a5_instanceConst);delete J[o]}else{a5.core.reflection.setReflection(G,J,o)}}}},u=function(G){var H=G.superclass(),E=G.constructor._a5_mixedMethods;if(!H){H={}}for(o in G){if(G.hasOwnProperty(o)&&typeof G[o]==="function"){if(o!=="Final"&&o!=="Override"&&o!=="constructor"&&o!=="prototype"&&o!=="dealloc"&&o!=="_a5_initialized"){if(H[o]&&H[o].toString().indexOf("[native code]")===-1){if(H[o].Final==true){return a5.ThrowError(201,null,{prop:o,namespace:G.namespace()})}return a5.ThrowError(200,null,{prop:o,namespace:G.namespace()})}else{var F=E[o];if(E[o]!==undefined&&F!==G[o]){return a5.ThrowError(220,null,{prop:o,namespace:G.namespace()})}}}}}G.constructor._a5_superMethods={};for(o in G.Override){if(H[o]===undefined&&E[o]===undefined){return a5.ThrowError(202,null,{prop:o,namespace:G.namespace()})}if(H[o]&&H[o].Final!==undefined&&H[o].Final===true||E[o]&&E[o].Final!==undefined&&E[o].Final===true){return a5.ThrowError(203,null,{prop:o,namespace:G.namespace()})}G[o]=G.Override[o];G.constructor._a5_superMethods[o]=(function(I){return function(){var J=[].slice.call(arguments,1),K=this;return function(){return I.apply(K,J)}}})(H[o])}for(o in G.Final){G[o]=G.Final[o];G[o].Final=true}},B=function(I){var ab,O,E,J,H,R,L,F,P=null,K=false,Z=false,M=false,V=false,U=false,Q=function(){pkgObj={pkg:I,imports:y(ab,I),clsName:O,cls:E,base:J,attribs:P,type:H,proto:R,implement:L,mixins:F,staticMethods:K,isInterface:M,isMixin:Z,enumDeclaration:V,isProto:U},validationResult=a5.core.verifiers.validateClassDependencies(J,pkgObj.imports,F,L,M,Z);if(validationResult===true){j(pkgObj)}else{D.push({pkg:pkgObj,reason:validationResult.reason,reasonNM:validationResult.reasonNM})}Q=N=aa=X=ac=G=W=T=ad=Y=S=null},N=function(){ab=Array.prototype.slice.call(arguments);return{Prototype:T,Static:ac,Mixin:ad,Mix:Y,Extends:aa,Implements:X,Interface:G,Class:W}},aa=function(ae){J=ae;return{Prototype:T,Static:ac,Import:N,Mix:Y,Implements:X,Interface:G,Class:W}},Y=function(){F=Array.prototype.slice.call(arguments);return{Prototype:T,Static:ac,Extends:aa,Implements:X,Interface:G,Class:W}},X=function(ae){L=Array.prototype.slice.call(arguments);return{Prototype:T,Static:ac,Mix:Y,Import:N,Extends:aa,Class:W}},ac=function(ae,af){if(typeof ae==="string"){O=ae;K=af;Q()}else{K=ae;return{Prototype:T,Implements:X,Mix:Y,Mixin:ad,Import:N,Extends:aa,Class:W}}},G=function(af,ae){O=af;E=ae;M=true;Q()},ad=function(){Z=true;var af=Array.prototype.slice.call(arguments);O=af[0];for(var ag=1,ae=af.length;ag<ae;ag++){switch(typeof af[ag]){case"string":H=af[ag];break;case"object":if(Object.prototype.toString.call(af[ag])==="[object Array]"){if(!P){P=[]}P.push(af[ag])}break;case"function":E=af[ag];break}}Q()},S=function(ae,af){O=ae;V=af;Q()},W=function(){var af=Array.prototype.slice.call(arguments);O=af[0];for(var ag=1,ae=af.length;ag<ae;ag++){switch(typeof af[ag]){case"string":H=af[ag];break;case"object":if(Object.prototype.toString.call(af[ag])==="[object Array]"){if(!P){P=[]}P.push(af[ag])}break;case"function":E=af[ag];break}}Q()},T=function(){U=true;var af=Array.prototype.slice.call(arguments);O=af[0];for(var ag=1,ae=af.length;ag<ae;ag++){switch(typeof af[ag]){case"string":H=af[ag];break;case"object":if(Object.prototype.toString.call(af[ag])==="[object Array]"){if(!P){P=[]}P.push(af[ag])}break;case"function":R=af[ag];break}}Q()};a5.SetNamespace(I);return{Enum:S,Static:ac,Import:N,Extends:aa,Mixin:ad,Mix:Y,Implements:X,Class:W,Prototype:T,Interface:G}},w=function(L,F){if(!this._a5_initialized){if(this.constructor.isInterface()){return a5.ThrowError(208,null,{nm:ref.namespace()})}if(this.constructor.isAbstract()){return a5.ThrowError(216,null,{nm:this.constructor.namespace()})}if(this.constructor.isSingleton()&&this.constructor._a5_instance!==null){return a5.ThrowError(217,null,{nm:this.constructor.namespace()})}var N=this,E=this,H=L||[],O=[],J,I,G,K;this._a5_initialized=true;this._a5_instanceUID=this.namespace().replace(/\./g,"_")+"__"+this.constructor.instanceCount();if(this.instanceCount()===0){this.constructor._a5_instance=this}this.constructor._instanceCount++;var N=this,E=this,H=L||[],O=[],J,I,G,K;(function(P){P.Super=function(){if(!P.constructor._a5_superclass.className){return a5.ThrowError(210)}var R=P.constructor._a5_superclass.prototype.constructor._a5_instanceConst;if(R){R.apply(P,arguments)}else{a5.ThrowError(211,null,{nm:P.constructor._a5_superclass.className()})}};for(var Q in P.constructor._a5_superMethods){P.Super[Q]=P.constructor._a5_superMethods[Q].call(P)}})(this);if(typeof this.constructor._a5_instanceConst!=="function"){return a5.ThrowError(218,null,{clsName:this.className()})}while(E!==null){var M=E.constructor;if(M._a5_attribs){a5.core.attributes.applyClassAttribs(this,M._a5_attribs)}if(M._a5_protoProps!==undefined){O.unshift(M._a5_protoProps)}E=M.superclass&&M.superclass().constructor.namespace?M.superclass():null}a5.core.mixins.initializeMixins(this);for(I=0,G=O.length;I<G;I++){O[I].call(this)}if(L==m){this.constructor._a5_instanceConst.apply(this,F)}else{this.constructor._a5_instanceConst.apply(this,arguments)}a5.core.mixins.mixinsReady(this)}},t=function(P,K,S,G,N,W,Z,E,R){if(N){if(K&&!K.isInterface()){return a5.ThrowError('Interface "'+P+'" cannot extend "'+K.namespace()+'", base class is not an interface.')}K=null}var F=function(){},L=W===false||false,aa=false,O=false,V=null,U=P.lastIndexOf("."),H=U>-1?P.substring(0,U):"",Q=U>-1?P.substring(U+1):P,J,M,I,ab,Y,T;if(!K||K===undefined){K=(P=="a5.Object"?F:a5.Object)}M=function(ad,ae){var ac=this;if(this.constructor._a5_clsDef){A(this.constructor._a5_clsDef,this,this,this.constructor.imports(),this.constructor)}if(ad!==k&&ad!==s){w.apply(this,arguments)}};if(G){J=G.split(/[ |]/);for(Y=0,T=J.length;Y<T;Y++){if(J[Y]=="final"){L=true}else{if(J[Y]=="singleton"){aa=true}else{if(J[Y]=="abstract"){O=true}}}}}if(a5.core.verifiers.checkNamespaceValid(P)){if(!K.isFinal||(K.isFinal()!=true)){if(K===Error){var X={};X.prototype=new K();M.prototype=X;X=null}else{M.prototype=new K(s)}V=K}else{return a5.ThrowError("Cannot extend "+K.namespace()+", class marked as final.")}}else{return a5.ThrowError("Cannot create new class in namespace "+P+", definition already exists.")}I=M.prototype;ab=I.constructor=M;if(K.prototype.constructor._extenderRef){K.prototype.constructor._extenderRef.push(M)}ab._a5_superclass=V;ab._a5_pkg=H;ab._a5_clsDef=S;ab._a5_clsName=Q;ab._a5_namespace=P;ab._a5_imports=Z;ab._a5_isFinal=L;ab._a5_isAbstract=O;ab._a5_isSingleton=aa;ab._a5_isInterface=N;ab._a5_isPrototype=W||false;ab._a5_attribs=R;ab._mixinRef=K.prototype.constructor._mixinRef?K.prototype.constructor._mixinRef.slice(0):[];ab._implementsRef=K.prototype.constructor._implementsRef?K.prototype.constructor._implementsRef.slice(0):[];ab._a5_mixedMethods={};ab._a5_instance=null;ab._instanceCount=0;ab._extenderRef=[];I._a5_initialized=false;for(o in a5.core.classProxyObj.construct){ab[o]=a5.core.classProxyObj.construct[o]}if(K.namespace===undefined){for(o in a5.core.classProxyObj.instance){I[o]=a5.core.classProxyObj.instance[o]}}if(E){a5.core.mixins.applyMixins(I,E,Z)}return a5.SetNamespace(P,M)},p=function(){var E=false,H,F;for(H=0;H<D.length;H++){var I=D[H].pkg,G=a5.core.verifiers.validateClassDependencies(I.base,I.imports,I.mixins,I.implement);if(G===true){j(I,true);D.splice(H,1);H--;E=true}else{D[H].reason=G.reason;D[H].reasonNM=G.reasonNM}}if(E){p()}},r=function(G){var F=G.obj,E=G.pkgObj;A(E.proto,F,F.prototype,F.imports(),F,true)},j=function(K,G){var E=(typeof K.base==="function")?K.base:a5.GetNamespace(K.base,K.imports),H=t(K.pkg+"."+K.clsName,E,K.cls,K.type,K.isInterface,K.isProto,K.imports,K.mixins,K.attribs),L=G||false,O=true,I,F;if(K.staticMethods){K.staticMethods(H,K.imports)}if(K.proto&&v){z.push({obj:H,pkgObj:K});if(K.implement){n.push({pkgObj:K,obj:H})}}else{if(K.proto){r({obj:H,pkgObj:K})}if(K.implement){O=a5.core.verifiers.validateImplementation(K,H)}}if(!O){return}if(K.enumDeclaration){var J=0,M=[];K.enumDeclaration({startIndex:function(P){J=P},addValue:function(P){M.push(P)}});for(I=0,F=M.length;I<F;I++){H[M[I]]=J++}H.addValue=function(P){if(H[P]===undefined){H[P]=J++}};H.getValue=function(P){for(o in H){if(H[o]===P){return o}}return null}}if(K.isInterface){H.interfaceVals={};if(K.base!==null&&K.base!==undefined){var N=a5.GetNamespace(K.base,K.imports);if(N.isInterface()){for(o in N.interfaceVals){if(H.interfaceVals[o]===undefined){H.interfaceVals[o]=N.interfaceVals[o]}}}else{a5.ThrowError(204,null,{objNM:H.namespace(),clsNM:N.namespace()})}}K.cls.call(H.interfaceVals,H.interfaceVals)}if(K.isMixin){H._mixinDef={Properties:function(P){H.prototype.constructor._a5_mixinProps=P},MustExtend:function(){H.prototype.constructor._a5_mixinMustExtend=arguments},MustMix:function(){H.prototype.constructor._a5_mixinMustMix=arguments}};K.cls.call(H._mixinDef,H._mixinDef,K.imports,H);if(typeof H._mixinDef[H.className()]==="function"){H._a5_instanceConst=H._mixinDef[H.className()];delete H._mixinDef[H.className()]}else{a5.ThrowError(205,null,{nm:H.namespace()})}delete H._mixinDef.Properties;delete H._mixinDef.Contract;delete H._mixinDef.MustExtend;delete H._mixinDef.MustMix}q(K.pkg,K.clsName,H);if(!L){p()}},y=function(N,O,Q){var I={},M,G,P,O,F,L,E,R,K;if(N==undefined){N=[]}N.push(O+".*");for(M=0,G=N.length;M<G;M++){P=N[M],L=false,E=P.lastIndexOf(".");if(P.charAt(P.length-1)=="*"){L=true}if(L){R=P.substr(0,P.length-2);O=a5.GetNamespace(R,null,true);if(O){for(o in O){K=O[o];if((typeof K==="function"||typeof K==="object")&&I[o]===undefined){I[o]=K}}}var H=R.replace(/\./g,"_");if(!x[H]){x[H]=[]}x[H].push(I)}else{F=E>-1?P.substr(E+1):P;var K=a5.GetNamespace(P,null,true);if(K){if(I[F]===undefined){I[F]=K}}else{var J=R.replace(/\./g,"_")+"_"+F;if(!x[J]){x[J]=[]}x[J].push(I)}}}return I};a5.Create=C;a5.Package=B;a5._a5_verifyPackageQueueEmpty=function(){if(D.length){var G="",F,E;for(F=0,E=D.length;F<E;F++){G+='"'+D[F].pkg.pkg+"."+D[F].pkg.clsName+'", '+D[F].reason+' class missing: "'+D[F].reasonNM+'"'+(D.length>1&&F<D.length-1?", \n":"")}a5.ThrowError(206,null,{classPlural:D.length==1?"class":"classes",clsString:G})}};a5._a5_delayProtoCreation=function(E){v=E};a5._a5_createQueuedPrototypes=function(){for(var F=0,E=z.length;F<E;F++){r(z[F])}z=[];for(F=0,E=n.length;F<E;F++){a5.core.verifiers.validateImplementation(n[F].pkgObj,n[F].obj)}n=[]}});a5.SetNamespace("a5.core.classProxyObj",{construct:{classPackage:function(j){return j?a5.GetNamespace(this._a5_pkg,null,true):this._a5_pkg},className:function(){return this._a5_clsName},namespace:function(){return this._a5_namespace},imports:function(){return this._a5_imports},doesImplement:function(j){return a5.core.verifiers.checkImplements(this,j)},doesExtend:function(j){return a5.core.verifiers.checkExtends(this,j)},doesMix:function(j){return a5.core.verifiers.checkMixes(this,j)},getAttributes:function(){return this._a5_attributes},instance:function(k,j){if(k===true){return this._a5_instance||a5.Create(this,j)}else{return this._a5_instance}},superclass:function(m,j){if(m!==undefined){if(typeof m==="object"&&m.isA5===true){if(typeof j!=="object"){j=[]}if(!this._a5_superclass.className){return a5.ThrowError(210)}var k=this._a5_superclass.prototype.constructor._a5_instanceConst;if(k){k.apply(m,j)}else{a5.ThrowError(211,null,{nm:this._a5_superclass.className()})}}else{a5.ThrowError(212,null,{nm:this.namespace()})}}else{return this._a5_superclass.prototype}},instanceCount:function(){return this._instanceCount},isInterface:function(){return this._a5_isInterface},isFinal:function(){return this._a5_isFinal},isSingleton:function(){return this._a5_isSingleton},isAbstract:function(){return this._a5_isAbstract},isPrototype:function(){return this._a5_isPrototype},isA5ClassDef:function(){return true},isA5:true},instance:{isA5:true,isA5ClassDef:function(){return false},getStatic:function(){return this.constructor},superclass:function(k,j){return this.constructor.superclass(k,j)},getAttributes:function(){return this.constructor.getAttributes()},getAttributeValue:function(j){return this.constructor.getAttributeValue(j)},getMethods:function(k,m){var j=[];for(var n in this){if((k||({}).hasOwnProperty.call(this,n))&&typeof(this[n])==="function"&&a5.core.classProxyObj.instance[n]===undefined&&n.substr(0,4)!=="_a5_"&&(m||n.substr(0,1)!=="_")){j.push(n)}}return j},getProperties:function(k,n){var j=[],m=function(s,t){var p=s;while(p!==null){var r=p.constructor;if(r._a5_protoProps!==undefined){var q={};r._a5_protoProps.call(q);if(q[t]!==undefined){return true}}p=r.superclass&&r.superclass().constructor.namespace?r.superclass():null}return false};for(var o in this){if((k||!m(this,o))&&typeof(this[o])!=="function"&&a5.core.classProxyObj.instance[o]===undefined&&o.substr(0,4)!=="_a5_"&&(n||o.substr(0,1)!=="_")){j.push(o)}}return j},classPackage:function(j){return this.constructor.classPackage(j)},className:function(){return this.constructor.className()},getClass:function(){return this.constructor},namespace:function(){return this.constructor.namespace()},doesImplement:function(j){return this.constructor.doesImplement(j)},doesExtend:function(j){return this.constructor.doesExtend(j)},doesMix:function(j){return this.constructor.doesMix(j)},imports:function(){return this.constructor.imports()},dealloc:function(){},instanceCount:function(){return this.constructor.instanceCount()},isInterface:function(){return this.constructor.isInterface()},isFinal:function(){return this.constructor.isFinal()},isSingleton:function(){return this.constructor.isSingleton()},isAbstract:function(){return this.constructor.isAbstract()},isPrototype:function(){return this.constructor.isAbstract()},instanceUID:function(){return this._a5_instanceUID},destroy:function(){if(this._a5_initialized===true){var o=this,q,m,j,r,n,k;while(o!==null){var p=o.constructor;j=p._mixinRef;if(j&&j.length){for(n=0,k=j.length;n<k;n++){if(j[n]._mixinDef.dealloc!=undefined){j[n]._mixinDef.dealloc.call(this)}}}if(p.namespace){m=p.superclass?p.superclass():null;if(m&&m.dealloc!==undefined&&m.dealloc!==o.dealloc){o.dealloc.call(this)}o=m}else{o=null}}if(this.constructor._a5_instance===this){this.constructor._a5_instance=null}if(this.__proto__){this.__proto__=null}for(r in this){delete this[r]}}}}});a5.SetNamespace("a5.core.verifiers",{namespaceArray:[],validateImplementation:function(s,n){var o,m,j,p,x,t,r,k=function(z,y){for(var A in z){if(z[A]!==y[A]){return false}}return true};for(o=0,m=s.implement.length;o<m;o++){p=s.implement[o];try{x=new n("_a5_interfaceTest");x.Override={};x.Final={};x.Attributes=function(){var A=Array.prototype.slice.call(arguments);var C=A.pop();for(var B=0,z=A.length;B<z;B++){var y=A[B][0];if(y==="Contract"||y==="ContractAttribute"||y===a5.ContractAttribute){C.attributes=A[B]}}return C};t=a5.GetNamespace(p,n.imports());if(n._a5_clsDef){n._a5_clsDef.call(x,x,n.imports(),n)}}catch(q){throw q;return false}if(!t.isInterface()){return a5.ThrowError(213,null,{implNM:t.namespace(),objNM:n.namespace()})}for(j in t.interfaceVals){r=x[j]!==undefined;var w=t.interfaceVals[j],u=x[j];if(r&&typeof w==="object"&&u.attributes&&(u.attributes[0]==="Contract"||u.attributes[0]==="ContractAttribute"||u.attributes[0]===a5.ContractAttribute)){var v=true;for(var o=0,m=w.length;o<m;o++){v=v&&u.attributes.length>=(o+1)?k(w[o],u.attributes[o+1]):false}if(!v){return a5.ThrowError(601,null,{intNM:t.namespace(),implNM:n.namespace(),method:j})}}else{if(!r||(r&&typeof t.interfaceVals[j]!==typeof x[j])){return a5.ThrowError(214,null,{implNM:t.namespace(),objNM:n.namespace()})}}}n._implementsRef.push(t);x.destroy()}return true},checkNamespaceValid:function(m){for(var k=0,j=this.namespaceArray.length;k<j;k++){if(this.namespaceArray[k]==m){return false}}this.namespaceArray.push(m);return true},checkImplements:function(n,s){if(typeof s==="string"){s=a5.GetNamespace(s)}var r=n._implementsRef,q,p,o,m;while(r){for(q=0,m=r.length;q<m;q++){if(r[q]===s){return true}}r=n.superclass()?n.superclass().getStatic()._implementsRef:null}return false},checkExtends:function(j,n){var m=j._a5_superclass&&j._a5_superclass.prototype.className?j._a5_superclass:null;if(!m){return false}var k=(typeof n==="string")?a5.GetNamespace(n):n;if(!k){return false}while(m){if(m===k){return true}m=m._a5_superclass&&m._a5_superclass.prototype.className?m._a5_superclass:null}return false},checkMixes:function(k,n){if(typeof n==="string"){n=a5.GetNamespace(n)}if(!n){return false}for(var m=0,j=k._mixinRef.length;m<j;m++){if(k._mixinRef[m]===n){return true}}return false},validateClassDependencies:function(n,w,u,k,o,x){var v,s,t,r=null,j,p,y,q;if(n!==undefined){if(typeof n==="function"){r=n}else{r=a5.GetNamespace(n,w)}}v=true;if(n!==undefined&&!r){v=false;s="base";t=n}if(v&&u!==undefined){for(j in u){p=u[j];if(typeof p==="string"){y=a5.GetNamespace(p,w)}if(typeof y!=="function"){v=false;s="mixin";t=p}}}if(v&&k!==undefined){for(j in k){q=k[j];if(typeof q==="string"){y=a5.GetNamespace(q,w)}if(typeof y!=="function"){v=false;s="interface";t=q}}}return v?true:{reason:s,reasonNM:t}}});a5.SetNamespace("a5.core.mixins",{prepareMixins:function(p){var o=p,j=p.constructor._mixinRef,n,m,q,k;if(j.length){for(n=j.length-1,m=-1;n>m;n--){if(j[n]._a5_mixinMustExtend!==undefined){for(q in j[n]._a5_mixinMustExtend){k=j[n]._a5_mixinMustExtend[q];if(!p.doesExtend(a5.GetNamespace(k,p.imports()))){return a5.ThrowError(400,null,{mixinNM:j[n].namespace(),instNM:p.namespace(),clsNM:k.namespace()})}}}}}},initializeMixins:function(p){var o=p,j=p.constructor._mixinRef,n,m,q,k;if(j.length){for(n=j.length-1,m=-1;n>m;n--){if(j[n]._a5_mixinProps!==undefined){j[n]._a5_mixinProps.call(o)}}for(n=0,m=j.length;n<m;n++){j[n]._a5_instanceConst.call(o)}}},mixinsReady:function(o){var j=o.constructor._mixinRef,n,m,p,k;if(j.length){for(n=j.length-1,m=-1;n>m;n--){if(j[n]._a5_mixinMustMix!==undefined){for(p in j[n]._a5_mixinMustMix){k=j[n]._a5_mixinMustMix[p];if(!inst.doesMix(a5.GetNamespace(k))){return a5.ThrowError(401,null,{nm:j[n].namespace(),cls:k})}}}if(typeof j[n]._mixinDef.mixinReady==="function"){j[n]._mixinDef.mixinReady.call(o)}}}},applyMixins:function(v,u,n,t){var o={},u=typeof u==="string"?[u]:u,w=[],s,r,q,p,x;for(s=0,p=u.length;s<p;s++){x=a5.GetNamespace(u[s],typeof n==="function"?n():n);if(!x){return a5.ThrowError(404,null,{mixin:u[s]})}w.push(x);for(r=0,q=v.constructor._mixinRef.length;r<q;r++){if(v.constructor._mixinRef[r]===x){return a5.ThrowError(402,null,{nm:x.namespace()})}}for(var m in x._mixinDef){if(m!=="dealloc"&&m!=="Properties"&&m!=="mixinReady"&&m!=="MustExtend"&&m!=="Contract"){if(o[m]===undefined){if(t===undefined){v.constructor._a5_mixedMethods[m]=x._mixinDef[m]}v[m]=x._mixinDef[m];o[m]="mixed"}else{return a5.ThrowError(403,null,{method:m})}}}if(t){a5.core.mixins.initializeMixins(t,w,t)}else{v.constructor._mixinRef.push(x)}}}});a5.SetNamespace("a5.core.errorHandling",true,function(){var k=null;this.ThrowError=function(m,p,o){var n=typeof m,q;if(n==="string"){q=m}else{if(n==="number"){if(a5.GetNamespace("a5.ErrorDefinitions",null,true)){var q=a5.ErrorDefinitions[m];if(!q){q="Invalid error id "+m+" thrown: error not defined."}}else{q="Error id "+m+" thrown. Include a5.ErrorDefinitions for verbose information."}m=a5.Create(p||a5.Error,[q,a5.Error.FORCE_CAST_ERROR])}}if(q){m=a5.Create(p||a5.Error,[(o?j(q,o):q),a5.Error.FORCE_CAST_ERROR])}k=m;throw m};this._a5_getThrownError=function(){var m=k;k=null;return m};var j=function(n,m){for(var o in m){n=n.replace(new RegExp("{"+o+"}","g"),m[o])}return n}});a5.ThrowError=a5.core.errorHandling.ThrowError;a5._a5_getThrownError=a5.core.errorHandling._a5_getThrownError;a5.Package("a5").Prototype("Object",function(k,j){k.Object=function(){};k.mixins=function(m){if(m!==undefined){return a5.GetNamespace(m,this.imports())}else{return this.constructor._a5_mixedMethods}}});a5.Package("a5").Prototype("Attribute","singleton",function(m,j,k){m.Attribute=function(){}});a5.Package("a5").Extends("Attribute").Prototype("AspectAttribute",function(m,k,j){j.RETURN_NULL="_a5_aspectReturnsNull";j.SUCCESS="_a5_aspectSuccess";j.ASYNC="_a5_aspectAsync";j.FAILURE="_a5_aspectFailure";j.NOT_IMPLEMENTED="_a5_notImplemented";m.AspectAttribute=function(){m.superclass(this)};m.before=function(q,n,o,s,r,p){return j.NOT_IMPLEMENTED};m.after=function(r,o,p,t,s,q,n){return j.NOT_IMPLEMENTED};m.around=function(){return j.NOT_IMPLEMENTED}});a5.Package("a5").Class("AspectCallArguments",function(s,r,p){var j,n,m,q,t,o,k;s.AspectCallArguments=function(y,v,w,A,z,x,u){j=y;n=v;m=w;q=A;t=z;o=x;k=u};s.rules=function(){return j};s.args=function(){return n};s.scope=function(){return m};s.method=function(){return q};s.callback=function(){return t};s.callOriginator=function(){return o};s.beforeArgs=function(){return k}});a5.Package("a5").Extends("AspectAttribute").Class("ContractAttribute",function(k,j,o){k.ContractAttribute=function(){k.superclass(this)};k.Override.before=function(r){var s=null,t=false,q=function(u){u.message='Contract type failure on method "'+r.method().getName()+'" '+u.message;return u};if(r.rules().length>1){for(i=0,l=r.rules().length;i<l;i++){s=m(r.rules()[i],r.args());if(s instanceof a5.ContractException){k.throwError(q(s));return a5.AspectAttribute.FAILURE}if(s!==false){t=true;s.overloadID=i;break}}}else{t=true;s=m(r.rules()[0],r.args(),true);if(s instanceof a5.ContractException){k.throwError(q(s));return a5.AspectAttribute.FAILURE}}if(!t||s===false){k.throwError(q(new a5.ContractException("no matching overload found")));return a5.AspectAttribute.FAILURE}else{return s}};var m=function(v,r){var u={},t=0,q,w,s;for(w in v){s=v[w];q=p((t<r.length?r[t]:undefined),s,t);if(q instanceof a5.ContractException){return q}u[w]=q;t++}if(r.length>t){return false}if(r.length===0){if(t===0){return u}return false}return u},p=function(r,v,w){var u="type",s=false,x=null,t,q;if(v.indexOf("=")!=-1){t=v.split("=");v=t[0];s=true;x=t[1]}else{if(s){return new a5.ContractException("for argument "+w+", required values cannot be defined after optional values")}}if(v.indexOf(".")!==-1){u="class"}if(v==="array"){u="array"}if(v==="object"){u="object"}if(u!=="class"){v=v.toLowerCase()}if(r===undefined){if(s){r=n(v,u,x,w)}else{return new a5.ContractException("for argument "+w+', missing required argument of type "'+v+'"')}}if(r!==undefined&&r!==null){switch(u){case"class":q=a5.GetNamespace(v);if(q.isInterface()){if(!(r.doesImplement(q))){return new a5.ContractException("for argument "+w+", must implement interface "+v)}}else{if(!(r instanceof q)){return new a5.ContractException("for argument "+w+", must be an instance of type "+v)}}break;case"type":if(r!==null&&typeof r!==v){return new a5.ContractException("for argument "+w+", must be of type "+v)}break;case"array":if(Object.prototype.toString.call(r)!=="[object Array]"){return new a5.ContractException("for argument "+w+", must be an array")}break;case"object":if(r._a5_initialized!==undefined||typeof r!=="object"||r instanceof Array){return new a5.ContractException("for argument "+w+", must be a generic object")}break}}return r},n=function(r,q,w,s){var v,u=false;if(r==="string"){var t=w.charAt(0);if(t===w.charAt(w.length-1)){if(t==='"'||t==="'"){v=w.substr(1,w.length-2)}else{u=true}}else{u=true}}else{if(r==="number"){if(!isNaN(w)){v=parseInt(w)}else{u=true}}else{if(q==="class"){if(w==="null"){v=null}else{u=true}}else{if(r==="boolean"||r==="array"||r==="function"||r==="object"){switch(w){case"{}":if(r==="object"){v={}}else{u=true}break;case"[]":if(r==="array"){v=[]}else{u=true}break;case"null":v=null;break;case"true":if(r==="boolean"){v=true}else{u=true}break;case"false":if(r==="boolean"){v=false}else{u=true}break;default:u=true}}else{u=true}}}}if(u){return new a5.ContractException("for argument "+s+', invalid default value for data type "'+r+'"')}else{return v}}});a5.Package("a5").Extends("AspectAttribute").Class("PropertyMutatorAttribute",function(j){j.PropertyMutatorAttribute=function(){j.superclass(this)};j.Override.before=function(n){if(n.args().length){var k=n.rules()[0].validate,m=false;if(k){if(k.indexOf(".")!==-1){m=true;var k=a5.GetNamespace(k);if(!k){return a5.AspectAttribute.FAILURE}}var p=m?(n.args()[0] instanceof k):(typeof n.args()[0]===k);if(!p){return a5.AspectAttribute.FAILURE}}n.scope()[n.rules()[0].property]=n.args()[0];return a5.AspectAttribute.SUCCESS}var o=n.scope()[n.rules()[0].property]||null;return o===null||o===undefined?a5.AspectAttribute.RETURN_NULL:o};j.Override.after=function(k){if(k.beforeArgs().length){return k.scope()}else{return a5.AspectAttribute.SUCCESS}}});a5.Package("a5").Static(function(j){j.DESTROYED="Destroyed"}).Prototype("Event",function(j){this.Properties(function(){this._a5_type=null;this._a5_data=null;this._a5_target=null;this._a5_currentTarget=null;this._a5_phase=1;this._a5_bubbles=false;this._a5_canceled=false;this._a5_cancelPending=false;this._a5_shouldRetain=false});j.Event=function(m,k,n){this._a5_type=m;this._a5_data=n||null;this._a5_bubbles=k!==false};j.cancel=function(k){if(k===true){this._a5_cancelPending=true}else{this._a5_canceled=true}};j.target=function(){return this._a5_target};j.currentTarget=function(){return this._a5_currentTarget};j.type=function(){return this._a5_type};j.data=function(){return this._a5_data};j.phase=function(){return this._a5_phase};j.bubbles=function(){return this._a5_bubbles};j.shouldRetain=function(k){if(typeof k==="boolean"){this._a5_shouldRetain=k;return this}return this._a5_shouldRetain};j.dealloc=function(){this._a5_target=this._a5_currentTarget=null}});a5.Package("a5").Static("EventPhase",function(j){j.CAPTURING=1;j.AT_TARGET=2;j.BUBBLING=3});a5.Package("a5").Extends(Error).Prototype("Error",function(k,j,m){m.FORCE_CAST_ERROR="_a5_forceCastError";this.Properties(function(){this.stack=[];this.message="";this.name=this.type=this.className()});k.Error=function(o,n){if(typeof o==="string"){this.message=o}else{n=o}if(n instanceof m){if(n.stack){this.stack=n.stack.split("\n")}this.line=n.lineNumber;this.url=n.fileName;if(n.message&&this.message===""){this.message=n.message}}};k.Override.toString=function(){return this.type+": "+this.message}});a5.Package("a5").Extends("Error").Prototype("AssertException",function(j){j.AssertException=function(){j.superclass(this,arguments);this.type="AssertException"}});a5.Package("a5").Extends("Error").Prototype("ContractException",function(j){j.ContractException=function(){j.superclass(this,arguments);this.type="ContractException"}});a5.Package("a5").Static(function(j){j.ADD="eventDispatcherAdd";j.REMOVE="eventDispatcherRemove"}).Prototype("EventDispatcher","abstract",function(m,j,k){this.Properties(function(){this._a5_autoPurge=false;this._a5_listeners={}});m.EventDispatcher=function(){};m.autoPurge=function(n){if(typeof n==="boolean"){this._a5_autoPurge=n;return this}return this._a5_autoPurge};m.addEventListener=function(p,q,n,o){this._a5_addEventListener(p,q,n,o)};m.addOneTimeEventListener=function(p,q,n,o){this._a5_addEventListener(p,q,n,o,true)};m.hasEventListener=function(u,n){var t=u.split("|"),v=this.cl(),s,q,p,r,o;for(s=0,q=t.length;s<q;s++){p=this._a5_getListenerArray(t[s]);if(p){for(r=0,o=p.length;r<o;r++){if(p[r].type==t[s]&&(typeof n==="function"?(p[r].method==n):true)){return true}}}}return false};m.removeEventListener=function(x,n,p,y,t){var w=x.split("|"),o=true,v,s,r,u,q;y=y||null;t=t||false;p=p===true;for(v=0,s=w.length;v<s;v++){r=this._a5_getListenerArray(w[v]);if(r){for(u=0,q=r.length;u<q;u++){if(r[u].method===n&&r[u].type===w[v]&&r[u].useCapture===p&&r[u].isOneTime===t){r.splice(u,1);q=r.length}}this.eListenersChange({type:w.length>1?w:w[0],method:n,useCapture:p,changeType:k.REMOVE})}}};m.removeAllListeners=function(){if(this._a5_listeners){this._a5_listeners={}}};m.getTotalListeners=function(o){if(typeof o==="string"){var n=this._a5_getListenerArray(o);if(n){return n.length}else{return 0}}else{var p=0;for(var q in this._a5_listeners){p+=this._a5_listeners[q].length}return p}};m.dispatchEvent=function(o,p,n){var q=this._a5_createEvent(o,p,n);q._a5_phase=a5.EventPhase.AT_TARGET;this._a5_dispatchEvent(q);if(!q.shouldRetain()){q.destroy()}q=null};m.eListenersChange=function(n){};m._a5_addEventListener=function(x,n,y,z,A){var B=z||null,w=x.split("|"),t=A||false,p=y===true,o=true,v,s,r,u,q;if(w.length!=0&&n!=undefined){for(v=0,s=w.length;v<s;v++){r=this._a5_getListenerArray(w[v],true);for(u=0,q=r.length;u<q;u++){if(r[u].method===n&&r[u].type===w[v]&&r[u].useCapture===p&&r[u].scope===B&&r[u].isOneTime===t){o=false;break}}if(o){r.push({type:w[v],method:n,scope:B,useCapture:p===true,isOneTime:t})}}this.eListenersChange({type:w.length>1?w:w[0],method:n,changeType:k.ADD})}else{throw"invalid listener: type- "+x+", method- "+n}};m._a5_createEvent=function(o,p,n){var q=(typeof o==="string")?new a5.Event(o,n):o;if(q instanceof a5.Event||q.doesExtend&&q.doesExtend(a5.Error)){q._a5_target=this;if(p){q._a5_data=p}return q}throw"Invalid event type."};m._a5_dispatchEvent=function(s){s._a5_currentTarget=this;if(this._a5_listeners){var t=this._a5_getListenerArray(s.type()),p,n,o,r,q;if(t){for(p=0,n=t.length;p<n;p++){o=t?t[p]:null;if(s._a5_canceled||!o){return}r=(s.phase()===a5.EventPhase.CAPTURING&&o.useCapture)||(s.phase()!==a5.EventPhase.CAPTURING&&!o.useCapture),q=typeof o.method==="function"&&(o.scope&&o.scope.namespace?o.scope._a5_initialized:true);if(r&&q){o.method.call(o.scope,s)}if(o.isOneTime===true||(!q&&this._a5_autoPurge)){t.splice(p,1);p--;n--}}}}};m._a5_getListenerArray=function(o,n){if(this._a5_listeners[o]===undefined){if(n===true){this._a5_listeners[o]=[];return this._a5_listeners[o]}return null}return this._a5_listeners[o]};m.dealloc=function(){this.dispatchEvent(new a5.Event(a5.Event.DESTROYED));this.removeAllListeners();this._a5_listeners=null}});a5.SetNamespace("a5.ErrorDefinitions",{100:'invalid namespace "{namespace}", namespaces must contain only letters, numbers, or periods.',101:"TrackWindowStrays must be called prior to GetWindowStrays.",200:'Invalid attempt to define new method "{prop}" in class "{namespace}", without calling override, method exists in superclass.',201:'Invalid attempt to override method "{prop}" in class "{namespace}", method marked as Final in superclass.',202:'Invalid attempt to override method "{prop}" in class "{namespace}", method not defined in superclass.',203:'Invalid attempt to override method "{prop}" in class "{namespace}", method marked as Final in superclass.',204:'Interface "{objNM}" cannot extend the non interface class "{clsNM}"',205:'Mixin "{nm}" doesn not specify a constructor.',206:"Class definitions not found for the following expected {classPlural}: \n {clsString}",207:"Error creating new class instance: cannot find object {className}.",208:"Cannot instantiate class {nm} , interfaces must be associated by the Implements directive.",209:"Error creating class instance {nm} ({errorStr})",210:"Superclass called on an object without a superclass.",211:'Constructor not defined on class "{nm}"',212:'invalid scope argument passed to superclass constructor on class "{nm}".',213:'Cannot implement "{implNM}" on class "{objNM}", class is not an interface.',214:'Invalid implementation of interface "{implNM}" , on class "{objNM}".',215:'Destroy called on core object "{nm}"',216:'Cannot directly instantiate class "{nm}", class marked as abstract.',217:'Cannot create new instance of class "{nm}", class marked as singleton already exists.',218:'Constructor not defined on class "{clsName}"',219:'Class "{currClass}" requires "{checkedClass}"',220:'Invalid attempt to define new method "{prop}" in class "{namespace}", without calling override, method exists in mixin.',300:'Invalid attribute definition: "Attributes" call must take a function as its last parameter.',301:"Invalid attribute definition: No attributes were defined.",302:"Attribute error: Attributes call accepts only arrays as attribute annotations.",303:"Attribute error: First parameter must be a reference to a class that extends a5.Attribute.",304:"Attribute error: invalid parameter specified for Attribute, params must be key/value pair objects.",305:"Attribute error: no parameters passed to Attribute call.",308:'Error processing attribute "{prop}", "{method}" must return a value.',400:'Mixin "{mixinNM}" requires mixing object "{instNM}" to extend class "{clsNM}" .',401:'Mixin "{nm}" requires owner class to mix "{cls}".',402:'Mixin "{nm}" already mixed into ancestor chain.',403:'Invalid mixin: Method "{method}" defined by more than one specified mixin.',404:'Invalid mixin: Mixin "{mixin}" does not exist.',601:"Invalid implementation of Contract on interace {intNM} in class {implNM} for method {method}."})})(this);(function(global){a5.SetNamespace("a5.cl",true,function(){var initializer=null,inst,createCalled=false,createCallbacks=[];var Instance=function(){return inst},CreateApplication=function(props,callback){if(!createCalled){createCalled=true;if(a5.cl.CLMain._extenderRef.length===0){var str="A5 CL requires a class that extends a5.cl.CLMain.";throw str}else{if(typeof props==="function"){callback=props;props=undefined}if(props===undefined){props={}}if(callback&&typeof callback==="function"){CreateCallback(callback)}var initializeComplete=function(){inst=new a5.cl.CL(props||{},initializer);for(var i=0,l=createCallbacks.length;i<l;i++){createCallbacks[i](inst)}createCallbacks=null;if(initializer!==null){initializer.applicationInitialized(inst)}inst._cl_launch()};if(initializer!==null){initializer.initialize(props,initializeComplete)}else{initializeComplete()}return function(){return a5.cl.CL.instance()}}}else{throw"Error: a5.cl.CreateApplication can only be called once."}},RegisterInitializer=function(_initializer){if(initializer==null){initializer=_initializer}else{throw"initializer error"}},CreateCallback=function(callback){createCallbacks.push(callback)};return{Instance:Instance,CreateApplication:CreateApplication,RegisterInitializer:RegisterInitializer,CreateCallback:CreateCallback}});a5.Package("a5.cl").Extends("a5.EventDispatcher").Prototype("CLBase",function(proto){this.Properties(function(){this._cl_mvcName=null});proto.CLBase=function(){proto.superclass(this)};proto.cl=function(){return a5.cl.Instance()};proto.getClassInstance=function(type,className){return this.cl()._core().instantiator().getClassInstance(type,className)};proto.log=function(value){var plgn=this.plugins().getRegisteredProcess("logger");if(plgn){return plgn.log.apply(this,arguments)}else{if("console" in window){console.log.apply(console,arguments)}}};proto.warn=function(value){var plgn=this.plugins().getRegisteredProcess("logger");if(plgn){return plgn.warn.apply(this,arguments)}else{if("console" in window){console.warn.apply(console,arguments)}}};proto.plugins=function(){return this.cl().plugins()};proto.appParams=function(){return this.cl().appParams()}});a5.Package("a5.cl").Extends("a5.cl.CLBase").Prototype("CLInitializer",function(cls,im){cls.CLInitializer=function(){cls.superclass(this);a5.cl.RegisterInitializer(this)};cls.initialize=function(props,callback){throw"Classes extending CLInitializer must override initialize method without calling super."};cls.load=function(arr,complete,progress){return false};cls.applicationInitialized=function(inst){}});a5.Package("a5.cl").Extends("a5.Error").Prototype("CLError",function(proto,im){proto.CLError=function(){proto.superclass(this,arguments);this.type="CLError"}});a5.Package("a5.cl").Enum("CLLaunchState",function(cls){cls.addValue("APPLICATION_INITIALIZING");cls.addValue("DEPENDENCIES_LOADING");cls.addValue("DEPENDENCIES_LOADED");cls.addValue("AUTO_INSTANTIATION_COMPLETE");cls.addValue("PLUGINS_LOADED");cls.addValue("LAUNCH_INTERCEPTED");cls.addValue("APPLICATION_WILL_LAUNCH");cls.addValue("APPLICATION_LAUNCHED")});a5.Package("a5.cl").Extends("a5.Event").Static(function(CLEvent){CLEvent.ONLINE_STATUS_CHANGE="onlineStatusChange";CLEvent.ERROR_THROWN="errorThrown";CLEvent.APPLICATION_INITIALIZING="applicationInitializing";CLEvent.CORE_LOADED="coreLoaded";CLEvent.DEPENDENCIES_LOADING="dependenciesLoading";CLEvent.DEPENDENCIES_LOADED="dependenciesLoaded";CLEvent.AUTO_INSTANTIATION_COMPLETE="autoInstantiationComplete";CLEvent.PLUGINS_LOADED="pluginsLoaded";CLEvent.APPLICATION_PREPARED="applicationPrepared";CLEvent.LAUNCH_INTERCEPTED="launchIntercepted";CLEvent.APPLICATION_WILL_LAUNCH="applicationWillLaunch";CLEvent.APPLICATION_LAUNCHED="applicationLaunched";CLEvent.APPLICATION_WILL_CLOSE="applicationWillClose";CLEvent.APPLICATION_CLOSED="applicationClosed";CLEvent.WINDOW_RESIZED="windowResized";CLEvent.APPLICATION_WILL_RELAUNCH="applicationWillRelaunch";CLEvent.GLOBAL_UPDATE_TIMER_TICK="globalUpdateTimerTick";CLEvent.ASYNC_START="asyncStart";CLEvent.ASYNC_COMPLETE="asyncComplete";CLEvent.ORIENTATION_CHANGED="orientationChanged";CLEvent.CLIENT_ENVIRONMENT_UPDATED="clientEnvironmentUpdated";CLEvent.APPLICATION_ERROR="applicationError"}).Prototype("CLEvent",function(proto,im){proto.CLEvent=function(){proto.superclass(this,arguments)}});a5.Package("a5.cl.interfaces").Interface("IHTMLTemplate",function(cls){cls.populateTemplate=function(){}});a5.Package("a5.cl.interfaces").Interface("ILogger",function(cls){cls.log=function(){}});a5.Package("a5.cl.interfaces").Interface("IServiceURLRewriter",function(cls){cls.rewrite=function(){}});a5.Package("a5.cl.interfaces").Interface("ILaunchInterceptor",function(cls){cls.interceptLaunch=function(){}});a5.Package("a5.cl.interfaces").Interface("IDataCacheProvider",function(IDataCacheProvider){IDataCacheProvider.isAvailable=function(){};IDataCacheProvider.cacheExists=function(){};IDataCacheProvider.storeValue=function(){};IDataCacheProvider.getValue=function(){};IDataCacheProvider.clearValue=function(){};IDataCacheProvider.clearScopeValues=function(){}});a5.Package("a5.cl.interfaces").Interface("IBindableReceiver",function(cls){cls.receiveBindData=function(){}});a5.Package("a5.cl.core").Extends("a5.cl.CLBase").Class("PluginManager","singleton final",function(self){var plugins=[],addOns=[],processes={animation:null,htmlTemplate:null,serviceURLRewriter:null,logger:null,dataCacheProvider:null,launchInterceptor:null,presentationLayer:null};this.PluginManager=function(){self.superclass(this);self.plugins()["getRegisteredProcess"]=this.getRegisteredProcess};this.instantiatePlugins=function(){var classes=[],i,l,plugin,pi,cfg,obj;for(i=0,l=a5.cl.CLPlugin._extenderRef.length;i<l;i++){if(a5.cl.CLPlugin._extenderRef[i]!==a5.cl.CLAddon){classes.push(a5.cl.CLPlugin._extenderRef[i])}}for(i=0,l=a5.cl.CLAddon._extenderRef.length;i<l;i++){addOns.push(a5.cl.CLAddon._extenderRef[i]);classes.push(a5.cl.CLAddon._extenderRef[i])}for(i=0,l=classes.length;i<l;i++){plugin=classes[i];if(!plugin.isAbstract()){pi=plugin.instance(true);cfg=pi._cl_sourceConfig();obj=a5.cl.core.Utils.mergeObject(cfg||{},pi.configDefaults());pi._cl_isFinal=pi._cl_isSingleton=true;if(!a5.cl.core.Utils.testVersion(pi.requiredVersion())){throw'Error - plugin "'+plugin.className()+'" requires at least CL version '+pi.requiredVersion();return}if(pi.maxVerifiedVersion()&&!self.config().allowUntestedPlugins&&!a5.cl.core.Utils.testVersion(pi.maxVerifiedVersion(),true)){throw"Error - untested version";return}pi._cl_pluginConfig=obj;if(pi instanceof a5.cl.CLAddon){if(a5.cl.CLBase.prototype[plugin.className()]===undefined){a5.cl.CLBase.prototype[plugin.className()]=function(){var p=pi;return function(){return p}}()}}else{if(self.plugins()[plugin.className()]==undefined){self.plugins()[plugin.className()]=function(){var p=pi;return function(){return p}}()}}plugins.push(pi)}}for(var i=0,l=plugins.length;i<l;i++){var checkResult=checkRequires(plugins[i]);if(checkResult){throw'Error: plugin "'+plugins[i].className()+'" requires plugin "'+checkResult;return}plugins[i].initializePlugin()}a5.cl.PluginConfig=function(){throw new a5.cl.CLError("Invalid call to MVC pluginConfig method: method must be called prior to plugin load.")}};this.defineRegisterableProcess=function(process){processes[process]=null};this.registerForProcess=function(type,instance){var val=processes[type];if(val===null){processes[type]=instance}else{if(val===undefined){self.redirect(500,"Error registering process for type '"+type+"', type does not exist.")}else{self.warn("Multiple plugins trying to register for process '"+type+"'.")}}};this.getRegisteredProcess=function(type){return processes[type]};this.processAddons=function(callback){var count=0,processAddon=function(){if(count>=addOns.length){callback();return}else{var addOn=addOns[count].instance(),isAsync=addOn.initializeAddOn()===true;count++;if(isAsync){addOn.addOneTimeEventListener(a5.cl.CLAddon.INITIALIZE_COMPLETE,processAddon)}else{processAddon()}}};processAddon()};var checkRequires=function(plugin){var r=plugin._cl_requires;for(var i=0,l=r.length;i<l;i++){if(!a5.GetNamespace(r[i],null,true)){return r[i]}}return false}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("Instantiator","singleton final",function(self,im){var applicationPackage,_applicationPackageInstance,namespaceArray=[["services",[a5.cl.CLService,a5.cl.CLSocket,a5.cl.CLAjax]]];this.Instantiator=function($applicationPackage){self.superclass(this);applicationPackage=$applicationPackage;_applicationPackageInstance=a5.SetNamespace(applicationPackage)};this.applicationPackage=function(returnString){if(returnString){return applicationPackage}else{return _applicationPackageInstance}};this.registerAutoInstantiate=function(name,clsArray){namespaceArray.push([name,clsArray])};this.Override.getClassInstance=function(type,className,instantiate){var instance=null,namespace=null;if(className.indexOf(".")!==-1){namespace=a5.GetNamespace(className)}else{namespace=getClassNamespace(type,className)}if(namespace){instance=namespace.instance(!!instantiate)}return instance};this.createClassInstance=function(clsName,type){var cls=getClassNamespace(type,clsName),instance,clsPath=null;if(cls){var clsInstance;clsInstance=(cls._a5_instance===null)?new cls():cls.instance();clsInstance._cl_setMVCName(clsName);return clsInstance}else{return null}};this.instantiateConfiguration=function(){var retObj=a5.cl.CLMain._cl_storedCfgs.config;var plgnArray=a5.cl.CLMain._cl_storedCfgs.pluginConfigs;for(var i=0;i<plgnArray.length;i++){var obj={};var split=plgnArray[i].nm.split("."),lastObj=obj;for(var j=0;j<split.length;j++){lastObj=lastObj[split[j]]=j==split.length-1?plgnArray[i].obj:{}}retObj.plugins=a5.cl.core.Utils.mergeObject(retObj.plugins,obj)}return retObj};this.beginInstantiation=function(){for(var i=0,l=namespaceArray.length;i<l;i++){var liveNamespace=a5.GetNamespace(applicationPackage+"."+namespaceArray[i][0],null,true);if(liveNamespace&&typeof liveNamespace=="object"){for(var prop in liveNamespace){if(typeof liveNamespace[prop]==="function"){var instance=new liveNamespace(prop);liveNamespace[prop]._cl_isFinal=true;if(namespaceArray[i][0]==="domains"){instance._name=prop;liveNamespace[prop]._a5_isSingleton=true}else{instance._name=prop.substr(0,prop.toLowerCase().indexOf(namespaceArray[i][0].substr(0,namespaceArray[i][0].length-1)))}var isValid=false;for(var j=0,m=namespaceArray[i][1].length;j<m;j++){if(instance instanceof namespaceArray[i][1][j]){isValid=true}}if(!isValid){self.redirect(500,"Error instantiating "+namespaceArray[i][0]+" class "+instance.namespace()+", must extend "+namespaceArray[i][1].namespace())}}}}}self.cl().dispatchEvent(im.CLEvent.AUTO_INSTANTIATION_COMPLETE)};var getClassNamespace=function(type,clsName){return a5.GetNamespace(applicationPackage+"."+type.toLowerCase()+"s."+clsName+(type=="domain"?"":(type.substr(0,1).toUpperCase()+type.substr(1))))}});a5.Package("a5.cl.core").Static("Utils",function(Utils){Utils.isAbsolutePath=function(url){return(url.indexOf("://")!==-1||url.substr(0,1)=="/")};Utils.makeAbsolutePath=function(url){return Utils.isAbsolutePath(url)?(url.substr(0,1)=="/"?a5.cl.Instance().initializer().environmentManager().appPath(true)+url:url):(a5.cl.Instance().initializer().environmentManager().appPath()+url)};Utils.trim=function(str){if(!str){return str}return str.replace(/(^\s+)|(\s+$)/g,"").replace(/\s{2,}/," ")};Utils.mergeObject=function(mergeObj,sourceObj,$setSourceObj){var setSourceObj=$setSourceObj||false,retObj,prop;if(mergeObj==null){return sourceObj}if(sourceObj==null){return mergeObj}function recursiveMerge(sourceObj,mergeObj){for(prop in mergeObj){if(prop!=="prototype"&&prop!=="constructor"){if(sourceObj[prop]!==undefined&&sourceObj[prop]!==null&&sourceObj[prop]!==sourceObj){if(typeof sourceObj[prop]==="object"){if(Object.prototype.toString.call(sourceObj[prop])==="[object Array]"){if(Object.prototype.toString.call(mergeObj[prop])==="[object Array]"){sourceObj[prop]=sourceObj[prop].concat(mergeObj[prop])}}else{sourceObj[prop]=recursiveMerge(sourceObj[prop],mergeObj[prop])}}else{sourceObj[prop]=mergeObj[prop]}}else{sourceObj[prop]=mergeObj[prop]}}}return sourceObj}retObj=recursiveMerge(sourceObj,mergeObj);if(setSourceObj){sourceObj=retObj}return retObj};Utils.deepClone=function(obj){if(typeof obj!=="object"||obj==null){return obj}var c=Utils.isArray(obj)?[]:{};for(var i in obj){var value=obj[i];if(typeof value=="object"){if(Utils.isArray(value)){c[i]=[];for(var j=0,l=value.length;j<l;j++){if(typeof value[j]!="object"){c[i].push(value[j])}else{c[i].push(Utils.deepClone(value[j]))}}}else{c[i]=Utils.deepClone(value)}}else{c[i]=value}}return c};Utils.initialCap=function(str){return str.substr(0,1).toUpperCase()+str.substr(1)};Utils.validateHexColor=function(color){return/^#(([a-fA-F0-9]){3}){1,2}$/.test(color)};Utils.expandHexColor=function(color){if(a5.cl.core.Utils.validateHexColor(color)){if(color.length===4){return"#"+color.substr(1,1)+color.substr(1,1)+color.substr(2,1)+color.substr(2,1)+color.substr(3,1)+color.substr(3,1)}else{return color}}else{return"#000000"}};Utils.arrayIndexOf=function(array,value){for(var x=0,y=array.length;x<y;x++){if(array[x]===value){return x}}return -1};Utils.arrayContains=function(array,value){return Utils.arrayIndexOf(array,value)!==-1};Utils.isArray=function(array){return Object.prototype.toString.call(array)==="[object Array]"};Utils.testVersion=function(val,isMax){var parseVersionString=function(val){val=val.split(".");return{major:parseInt(val[0])||0,minor:val.length>1&&parseInt(val[1])||0,build:val.length>2&&parseInt(val[2])||0}};isMax=isMax||false;var versionVal=parseVersionString(a5.Version()),testVal=parseVersionString(String(val));if(versionVal.major!==testVal.major){return isMax?(versionVal.major<testVal.major):(versionVal.major>testVal.major)}else{if(versionVal.minor!==testVal.minor){return isMax?(versionVal.minor<testVal.minor):(versionVal.minor>testVal.minor)}else{if(versionVal.build!==testVal.build){return isMax?(versionVal.build<testVal.build):(versionVal.build>testVal.build)}else{return true}}}};Utils.viewInStack=function(view){var appView=a5.cl.mvc.core.AppViewContainer.instance();while(view){if(view===appView){return true}view=view.parentView()}return false}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("RequestManager","final",function(self,im){var defaultContentType,defaultMethod,reqArray,asyncRunning=false,reqCount;this.RequestManager=function(defMethod,defType){self.superclass(this,arguments);reqArray=[];reqCount=0;defaultContentType=defType;defaultMethod=defMethod};this.asyncRunning=function(){return asyncRunning};this.processItem=function(props,reqID){var req;try{var reqComplete=function($req){if(getPropsForID(reqID)){var req=this;if(req.readyState==4){var response,retData,status=req.status;if(status!==500){if(props.isJson){response=req.responseText;if(a5.cl.core.Utils.trim(response)!==""){try{response=a5.cl.core.JSON.parse(response);retData=(props.dataProp&&props.dataProp!==undefined)?response[props.dataProp]:response}catch(e){status=500;retData="Error parsing JSON response from url: "+props.url+"\nresponse: "+response}}}else{if(props.isXML&&req.responseXML){response=req.responseXML}else{response=req.responseText}}if(retData===undefined){retData=response}}if(status==200||(status==0)){self.success(reqID,retData)}else{self.onError(reqID,status,retData||req.responseText)}self.reqComplete(reqID)}}},updateProgress=function(e){self.updateProgress(reqID,e)},onError=function(e){self.onError(reqID,req.status,e)},createAppend=function(data,isGet){var retString=isGet?"?":"";for(var prop in data){retString+=prop+"="+data[prop]+"&"}return retString.substr(0,retString.length-1)},contentType=null;req=XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("MSXML2.XMLHTTP.3.0");if(req!==undefined){var method=props.method||defaultMethod,data=props.data||null,urlAppend=method=="GET"?createAppend(props.data,true):"";if(data){if(props.formData===true){contentType="multipart/form-data";var fd=new FormData();for(var prop in data){fd.append(prop,data[prop])}data=fd}else{if(props.isJson){data=a5.cl.core.JSON.stringify(data)}else{contentType="application/x-www-form-urlencoded";data=createAppend(data,false)}}}if(contentType===null){contentType=defaultContentType}if(props.contentType){contentType=props.contentType}props.isJson=props.isJson!==undefined?props.isJson:(contentType&&contentType.toLowerCase().indexOf("json")!=-1?true:false);props.isXML=(!props.isJson&&contentType.toLowerCase().indexOf("xml"))!=-1?true:false;props.charSet=props.charSet||null;if(req.addEventListener!=undefined){req.addEventListener("progress",updateProgress,false)}if(XMLHttpRequest){req.onerror=onError}req.onreadystatechange=reqComplete;req.open(method,props.url+urlAppend,true);if(props.formData!==true){req.setRequestHeader("Content-type",contentType)}if(props.charSet){req.setRequestHeader("charset",props.charSet)}req.send(data)}else{if(props.error){props.error("client does not support XMLHTTPRequests")}}}catch(e){req=null;self.throwError(e)}};this.abortRequest=function(id){for(var i=0;i<reqArray.length;i++){if(reqArray[i].id===id){reqArray[i].abort();reqArray.splice(i,1);return}}self.redirect(500,"Cannot abort request; invalid identifier sent to abortRequest method.")};this.makeRequest=function(props){if((reqArray.length===0||isSilent())&&props.silent!==true){asyncRunning=true;self.cl().dispatchEvent(im.CLEvent.ASYNC_START)}var reqID=reqCount++;props.url=a5.cl.core.Utils.makeAbsolutePath(props.url);var obj={props:props,id:reqID,abort:function(){self.abortRequest(this.id)}};reqArray.push(obj);self.processItem(props,reqID);return obj};this.success=function(id,data){var props=getPropsForID(id);if(props.success){props.success.call(self,data)}};this.reqComplete=function(id){unqueueItem(id);if(reqArray.length===0||checkSilentReq()){asyncRunning=false;self.cl().dispatchEvent(im.CLEvent.ASYNC_COMPLETE)}};this.updateProgress=function(id,e){var props=getPropsForID(id);if(props.progress){props.progress.call(self,e)}};this.onError=function(id,status,errorObj){if(status!=200&&status!=0){var props=getPropsForID(id);if(props&&props.error){props.error.call(self,status,errorObj)}else{this.throwError(errorObj)}}};var checkSilentReq=function(){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].props.silent!==true){return false}}return true};var getPropsForID=function(id){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].id==id){return reqArray[i].props}}};var unqueueItem=function(value){var isNumber=typeof value=="number";for(var i=0,l=reqArray.length;i<l;i++){if((isNumber&&reqArray[i].id==value)||reqArray[i]==value){reqArray.splice(i,1);return}}};var isSilent=function(){for(var i=0,l=reqArray.length;i<l;i++){if(reqArray[i].props.silent===true){return true}}return false}});a5.cl.core.JSON=function(){var self=this;var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;var init=function(){if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}};var stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw"JSON stringify error."}return str("",{"":value})};var parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")};var f=function(n){return n<10?"0"+n:n};function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}init();return{stringify:stringify,parse:parse}}();a5.Package("a5.cl.core").Static(function(DataCache){DataCache.enabled=function(){return DataCache.instance().enabled()};DataCache.cacheExists=function(){return DataCache.instance().cacheExists()};DataCache.isAvailable=function(){return DataCache.instance().isAvailable()};DataCache.storeValue=function(key,value){return DataCache.instance().storeValue(key,value)};DataCache.getValue=function(key){return DataCache.instance().getValue(key)};DataCache.clearValue=function(key){return DataCache.instance().clearValue(key)};DataCache.clearScopeValues=function(scope,exceptions){return DataCache.instance().clearScopeValues(scope,exceptions)};DataCache.validateCacheKeyPrefix=function(key){return DataCache.instance().validateCacheKeyPrefix(key)};DataCache.removeCacheKeyPrefix=function(key){return DataCache.instance().removeCacheKeyPrefix(key)}}).Extends("a5.cl.CLBase").Class("DataCache","singleton final",function(self,im){var _enabled,cacheKeys,provider;this.DataCache=function(cacheEnabled){self.superclass(this);_enabled=cacheEnabled;cacheKeys=[]};this.enabled=function(){return _enabled};this.isAvailable=function(){getCacheProvider().isAvailable()};this.cacheExists=function(){return getCacheProvider().cacheExists()};this.storeValue=function(key,value){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().storeValue(key)}else{return false}};this.getValue=function(key){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().getValue(key)}};this.clearValue=function(key){if(self.isAvailable()&&checkCacheKey(key)){return getCacheProvider().clearValue(key)}};this.clearScopeValues=function(scope,$exceptions){return getCacheProvider().clearScopeValues(scope,$exceptions)};this.validateCacheKeyPrefix=function(key){for(var i=0,l=cacheKeys.length;i<l;i++){if(cacheKeys[i]==key){return false}}cacheKeys.push(key);return true};this.removeCacheKeyPrefix=function(key){for(var i=0,l=cacheKeys.length;i<l;i++){if(cacheKeys[i]==key){cacheKeys.splice(i,1);return}}};var checkCacheKey=function(key){var isInCache=false;for(var i=0,l=cacheKeys.length;i<l;i++){if(key.substr(cacheKeys[i])!=-1){isInCache=true;break}}return isInCache};var getCacheProvider=function(){if(!provider){provider=self.plugins().getRegisteredProcess("dataCacheProvider")}return provider}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent").Extends("a5.cl.CLBase").Class("GlobalUpdateTimer","singleton final",function(self,im){var timer,clInstance,interval,evtInstance=new im.CLEvent(im.CLEvent.GLOBAL_UPDATE_TIMER_TICK);this.GlobalUpdateTimer=function(_interval){self.superclass(this);interval=_interval;clInstance=self.cl();evtInstance.shouldRetain(true)};this.startTimer=function(){if(!timer){timer=setInterval(update,interval)}};this.stopTimer=function(){this._cl_killTimer()};var update=function(){clInstance.dispatchEvent(evtInstance)};this._cl_killTimer=function(){if(timer){clearInterval(timer);timer=null}}});a5.Package("a5.cl.core").Import("a5.cl.CLEvent","a5.cl.CLLaunchState").Extends("a5.cl.CLBase").Class("Core","singleton final",function(self,im){var _cache,_params,_requestManager,_globalUpdateTimer,_instantiator,_pluginManager,_launchState;this.Core=function(params){self.superclass(this);_params=params;_instantiator=new im.Instantiator(params.applicationPackage)};this.instantiator=function(){return _instantiator};this.cache=function(){return _cache};this.requestManager=function(){return _requestManager};this.pluginManager=function(){return _pluginManager};this.globalUpdateTimer=function(){return _globalUpdateTimer};this.launchState=function(){return _launchState};this.relaunch=function(){self.cl().dispatchEvent(im.CLEvent.APPLICATION_WILL_RELAUNCH);window.location.reload()};this.config=function(){return _params};this.initializeCore=function($environment,$clientEnvironment){updateLaunchStatus("APPLICATION_INITIALIZING");_globalUpdateTimer=new im.GlobalUpdateTimer(_params.globalUpdateTimerInterval);_requestManager=new im.RequestManager(_params.requestDefaultMethod,_params.requestDefaultContentType);_pluginManager=new im.PluginManager();_cache=new im.DataCache(_params.cacheEnabled);updateLaunchStatus("CORE_LOADED");var loadPaths=self.config().dependencies;if(loadPaths.length){if(self.cl().initializer()){var implemented=self.cl().initializer().load(loadPaths,dependenciesLoaded,function(e){updateLaunchStatus("DEPENDENCIES_LOADING",e)});if(implemented==false){dependenciesLoaded()}}else{dependenciesLoaded()}}else{dependenciesLoaded()}};var dependenciesLoaded=function(){updateLaunchStatus("DEPENDENCIES_LOADED");_pluginManager.instantiatePlugins();updateLaunchStatus("PLUGINS_LOADED");updateLaunchStatus("APPLICATION_PREPARED");_instantiator.beginInstantiation();var plgn=_pluginManager.getRegisteredProcess("launchInterceptor");if(plgn){var intercept=plgn.interceptLaunch(launchApplication);if(intercept){updateLaunchStatus("LAUNCH_INTERCEPTED",{interceptor:plgn})}else{launchApplication()}}else{launchApplication()}};var launchApplication=function(){_pluginManager.processAddons(addOnsLoaded)};var addOnsLoaded=function(){updateLaunchStatus("APPLICATION_WILL_LAUNCH");updateLaunchStatus("APPLICATION_LAUNCHED")};var updateLaunchStatus=function(type,e){_launchState=im.CLLaunchState[type];self.cl().dispatchEvent(im.CLEvent[type],e)}});a5.Package("a5.cl.mixins").Import("a5.cl.core.DataCache").Mixin("DataStore",function(proto,im,DataStore){this.Properties(function(){this._cl_cacheKeyValidated=false;this._cl_prefix=null;this._cl_validatedPrefix=null});proto.DataStore=function(){};proto.cacheExists=function(){return im.DataCache.cacheExists()};proto.storeValue=function(key,value){if(im.DataCache.isAvailable()&&value!==undefined){return im.DataCache.storeValue(this._cl_createCacheKey(key),value)}else{return false}};proto.keyPrefix=function(value){if(typeof value==="string"){this._cl_prefix=value;return this}return this._cl_prefix};proto.getValue=function(key){if(im.DataCache.isAvailable()){return im.DataCache.getValue(this._cl_createCacheKey(key))}else{return false}};proto.clearValue=function(key){if(im.DataCache.isAvailable()){return im.DataCache.clearValue(this._cl_createCacheKey(key))}else{return false}};proto.clearScopeValues=function(exceptions){if(im.DataCache.isAvailable()){im.DataCache.clearScopeValues(this.instanceUID(),exceptions)}else{return false}};proto._cl_createCacheKey=function(key){if(!this._cl_cacheKeyValidated||!this._cl_validatedPrefix){var prefix=(this._cl_prefix||(this.id?this.id():false)||this.instanceUID());this._cl_cacheKeyValidated=im.DataCache.validateCacheKeyPrefix(prefix);if(!this._cl_cacheKeyValidated){a5.ThrowError("Error: Duplicate cache key prefix: "+prefix);return}this._cl_validatedPrefix=prefix}return this._cl_validatedPrefix+"_"+key};proto.dealloc=function(){im.DataCache.removeCacheKeyPrefix(this._cl_validatedPrefix)}});a5.Package("a5.cl.mixins").Mixin("BindableSource",function(mixin,im){this.Properties(function(){this._cl_receivers=null;this._cl_bindParamType=null;this._cl_bindParamRequired=false;this._cl_bindParamCallback=null});mixin.BindableSource=function(){this._cl_receivers=[]};mixin.bindParamProps=function(type,required,callback){this._cl_bindParamType=type;if(required!==undefined){this._cl_bindParamRequired=required}if(callback!==undefined){this._cl_bindParamCallback=callback}return this};mixin.bindParamType=function(){return this._cl_bindParamType};mixin.bindParamRequired=function(){return this._cl_bindParamRequired};mixin.notifyReceivers=function(data,params){for(var i=0,l=this._cl_receivers.length;i<l;i++){var r=this._cl_receivers[i];if(params===undefined||params===r.params){if(this._cl_bindParamRequired||(!data&&this._cl_bindParamCallback!==null)){data=this._cl_bindParamCallback.call(this,r.params)}if(data!==null&&data!==undefined){r.receiver.receiveBindData.call(r.scope||r.receiver,this._cl_modifyBindData(data,r.mapping))}}}};mixin._cl_attachReceiver=function(receiver,params,mapping,scope){this._cl_receivers.push({receiver:receiver,params:params,mapping:mapping,scope:scope});this.notifyReceivers()};mixin._cl_detachReceiver=function(receiver){for(var i=0,l=this._cl_receivers.length;i<l;i++){var r=this._cl_receivers[i];if(r.receiver===receiver){this._cl_receivers.splice(i,1);break}}};mixin._cl_modifyBindData=function(dataSource,mapping){var data,isQuery=false;if(dataSource instanceof a5.cl.CLQueryResult){isQuery=true}if(isQuery){data=dataSource._cl_data}else{data=dataSource}if(mapping){var dataSet=[],skipProps={};for(var i=0,l=data.length;i<l;i++){var dataRow={};for(var prop in mapping){dataRow[prop]=data[i][mapping[prop]];skipProps[mapping[prop]]=prop}for(var prop in data[i]){if(skipProps[prop]===undefined){dataRow[prop]=data[i][prop]}}dataSet.push(dataRow)}if(isQuery){dataSource._cl_data=dataSet;return dataSource}else{return dataSet}}else{return dataSource}}});a5.Package("a5.cl.mixins").Mixin("Binder",function(mixin,im){this.Properties(function(){this._cl_bindingsConnected=true;this._cl_bindings=[]});mixin.Binder=function(){this._cl_bindings=[]};mixin.setBindingEnabled=function(value){if(value!==this._cl_bindingsConnected){for(var i=0,l=this._cl_bindings.length;i<l;i++){var b=this._cl_bindings[i];if(b.persist!==true){if(value){b.source._cl_attachReceiver(b.receiver,b.params,b.mapping,b.scope)}else{b.source._cl_detachReceiver(b.receiver)}}}this._cl_bindingsConnected=value}};mixin.bindingsConnected=function(){return this._cl_bindingsConnected};mixin.bind=function(source,receiver,params,mapping,scope,persist){if(!this._cl_checkBindExists(source,receiver,params)){if(source.isA5ClassDef()){source=source.instance()}if(!source.doesMix("a5.cl.mixins.BindableSource")){return this.throwError('source "'+source.className()+'" of bind call must mix a5.cl.mixins.BindableSource.')}if(receiver.isA5ClassDef()){receiver=receiver.instance()}if(!receiver.doesImplement("a5.cl.interfaces.IBindableReceiver")){return this.throwError('receiver "'+receiver.className()+'" of call bind must implement a5.cl.interfaces.IBindableReceiver.')}var hasParams=params!==undefined&&params!==null,isNM=false,pType=null;if(source.bindParamRequired()||params){var isValid=true;if(!hasParams){isValid=false}else{if(source.bindParamType()!==null){pType=source.bindParamType();if(typeof pType==="string"&&pType.indexOf(".")!==-1){pType=a5.GetNamespace(pType)}if(pType.namespace){isNM=true;var nmObj=pType.namespace();if(!(params instanceof pType)){isValid=false}}else{if(typeof params!==source.bindParamType()){isValid=false}}}}if(!isValid){this.throwError('params required for binding source "'+source.namespace()+'"'+(pType!==null?' must be of type "'+(isNM?pType.namespace():pType)+'"':""));return}}this._cl_bindings.push({source:source,scope:scope,receiver:receiver,mapping:mapping,params:params,persist:persist});if(this.bindingsConnected()){source._cl_attachReceiver(receiver,params,mapping,scope)}}};mixin.unbind=function(source,receiver){var found=false;for(var i=0,l=this._cl_bindings.length;i<l;i++){var obj=this._cl_bindings[i];if(obj.source===source&&obj.receiver===receiver){this._cl_bindings.splice(i,1);found=true;break}}if(found){source._cl_detachReceiver(receiver)}else{this.throwError('cannot unbind source "'+source.namespace()+'" on controller "'+this.namespace()+'", binding does not exist.')}};mixin._cl_checkBindExists=function(source,receiver,params){for(var i=0,l=this._cl_bindings.length;i<l;i++){var b=this._cl_bindings[i];if(b.source===source&&b.receiver===receiver&&b.params===params){return true}}return false}});a5.Package("a5.cl").Extends("CLBase").Prototype("CLService","abstract",function(proto,im){this.Properties(function(){this._cl_url=null;this._cl_isJson=true});proto.CLService=function(url){proto.superclass(this);this._cl_url=url};proto.url=function(){var plgn=this.plugins().getRegisteredProcess("serviceURLRewriter");if(plgn){return plgn.rewrite(this._cl_url)}return this._cl_url};proto.isJson=function(value){if(value!==undefined){this._cl_isJson=value}return this._cl_isJson}});a5.Package("a5.cl").Extends("a5.Attribute").Class("SerializableAttribute","abstract",function(cls){cls.SerializableAttribute=function(){}});a5.Package("a5.cl").Import("a5.cl.core.JSON").Extends("CLService").Static(function(CLSocket){CLSocket.supportsSockets=function(){return"WebSocket" in window?true:false}}).Prototype("CLSocket","abstract",function(proto,im,CLSocket){this.Properties(function(){this._cl_socket=null;this._cl_socketOnMessage=null});proto.CLSocket=function(url){proto.superclass(this,[url]);if(CLSocket.supportsSockets()){this._cl_socket=new WebSocket(url);var self=this;this._cl_socketOnMessage=function(e){var data=self.isJson()?im.JSON.parse(e.data):e.data;self.dataReceived(data)}}};proto.send=function(m,callback){if(CLSocket.supportsSockets()){var self=this;self._cl_socket.onmessage=self._cl_socketOnMessage;var sendMsg=function(){self._cl_socket.onopen=null;if(callback){self._cl_socket.onmessage=function(e){var data=self.isJson()?a5.cl.core.JSON.parse(e.data):e.data;callback(data);self._cl_socket.onmessage=self._cl_socketOnMessage}}self._cl_socket.send(m);return null};switch(this._cl_socket.readyState){case 0:this._cl_socket.onopen=sendMsg;break;case 1:sendMsg();break;case 2:this._cl_socket.onopen=sendMsg;this._cl_socket.connect();break}}else{throw"Error sending data to socket "+this.mvcName()+", Web Sockets are not supported in this browser."}};proto.dataReceived=function(data){};proto.close=function(){if(this._cl_socket){this._cl_socket.close()}};proto.dealloc=function(){if(this._cl_socket&&this._cl_socket.readyState===2){this.close()}}});a5.Package("a5.cl").Extends("CLService").Mix("a5.cl.mixins.BindableSource").Prototype("CLAjax","abstract",function(proto,im){this.Properties(function(){this._cl_ajaxStruct=null;this._cl_silent=false});proto.CLAjax=function(url,props){proto.superclass(this,[url]);this._cl_ajaxStruct=props};proto.call=function(m,data,callback,props){var callObj=this._cl_ajaxStruct?a5.cl.core.Utils.deepClone(this._cl_ajaxStruct):{};if(props){for(var prop in callObj){if(props[prop]==undefined){props[prop]=callObj[prop]}}}else{props=callObj}if(data){if(data.isA5Class){props.data=a5.Attribute.processInstance(data)}props.data=data}props.isJson=this.isJson();props.success=callback;if(this._cl_silent){props.silent=true}if(m){if(this.url().indexOf("?")==-1&&m.charAt(0)!=="/"){m="/"+m}}else{m=""}props.url=this.url()+m;return a5.cl.core.RequestManager.instance().makeRequest(props)};proto.abort=function(id){return a5.cl.core.RequestManager.instance().abort(id)};proto.silent=function(value){if(typeof value==="boolean"){this._cl_silent=value;return this}return this._cl_silent}});a5.Package("a5.cl").Extends("a5.AspectAttribute").Static(function(AjaxCallAttribute){AjaxCallAttribute.CANCEL_CYCLE="ajaxCallAttributeCancelCycle"}).Class("AjaxCallAttribute",function(cls,im,AjaxCallAttribute){var cycledCalls={},data={};cls.AjaxCallAttribute=function(){cls.superclass(this)};cls.Override.before=function(aspectArgs){var data=null,args=aspectArgs.args()?Array.prototype.slice.call(aspectArgs.args()):[];argsCallback=null,rules=aspectArgs.rules().length?aspectArgs.rules()[0]:{},propObj=null;if(rules.takesData===true&&args.length){data=args.shift()}if(rules.props){propObj=rules.props}if(rules.hasErrorCallback){if(!propObj){propObj={}}propObj.error=args.pop()}if(rules.hasCallback===true&&args.length&&typeof args[0]==="function"){argsCallback=args.shift()}var executeCall=function(){if(rules.cacheResponse&&getData(aspectArgs.method())){setTimeout(function(){args.unshift(getData(aspectArgs.method()));if(argsCallback){argsCallback(args)}aspectArgs.callback()(args)},0)}else{aspectArgs.scope().call(aspectArgs.method().getName(),data,function(response){if(rules.cacheResponse){storeData(aspectArgs.method(),response)}args.unshift(response);if(argsCallback){argsCallback(args)}aspectArgs.callback()(args)},propObj)}};if(args[0]===AjaxCallAttribute.CANCEL_CYCLE){if(aspectArgs.method()._cl_cycleID){clearInterval(aspectArgs.method()._cl_cycleID);delete aspectArgs.method()._cl_cycleID}return a5.Attribute.ASYNC}if(rules.cycle){if(!aspectArgs.method()._cl_cycleID){aspectArgs.method()._cl_cycleID=setInterval(function(){aspectArgs.method().apply(aspectArgs.scope(),args)},rules.cycle);executeCall()}else{executeCall()}}else{executeCall()}return a5.Attribute.ASYNC};var getData=function(method){return data[method.getClassInstance().instanceUID()+"_"+method.getName()]};var storeData=function(method,value){data[method.getClassInstance().instanceUID()+"_"+method.getName()]=value}});a5.Package("a5.cl").Extends("a5.AspectAttribute").Class("BoundAjaxReturnAttribute",function(cls){cls.BoundAjaxReturnAttribute=function(){cls.superclass(this)};cls.Override.before=function(aspectArgs){if(aspectArgs.rules().length&&aspectArgs.rules()[0].receiverMethod!==undefined){aspectArgs.rules()[0].receiverMethod.call(null,aspectArgs.args()[0])}else{aspectArgs.scope().notifyReceivers(aspectArgs.args()[0],aspectArgs.method().getName())}return a5.AspectAttribute.SUCCESS}});a5.Package("a5.cl").Extends("CLBase").Prototype("CLPlugin","abstract",function(proto,im){this.Properties(function(){this._cl_pluginConfig=null;this._cl_configDefaults={};this._cl_requiredVersion="0";this._cl_maxVerifiedVersion=null;this._cl_requires=[]});proto.CLPlugin=function(){proto.superclass(this)};proto.pluginConfig=function(){return this._cl_pluginConfig};proto.requires=function(val){this._cl_requires.push(val)};proto.requiredVersion=function(value){if(value!==undefined){this._cl_requiredVersion=value}return this._cl_requiredVersion};proto.maxVerifiedVersion=function(value){if(value!==undefined){this._cl_maxVerifiedVersion=value}return this._cl_maxVerifiedVersion};proto.configDefaults=function(value){if(value!==undefined){this._cl_configDefaults=value}return this._cl_configDefaults};proto.initializePlugin=function(){};proto.registerForProcess=function(type){this.cl()._core().pluginManager().registerForProcess(type,this)};proto._cl_sourceConfig=function(){var cfg=a5.cl.CLMain._cl_storedCfgs.pluginConfigs;var pkg=this.classPackage();if(String(pkg[pkg.length-1]).toLowerCase()!=this.className().toLowerCase()){pkg=pkg+"."+this.constructor.className()}for(var prop in cfg){var pluginCfg=cfg[prop];if(pluginCfg.nm&&(pluginCfg.nm===pkg||pluginCfg.nm===this.constructor.className())){return pluginCfg.obj}}return{}}});a5.Package("a5.cl").Extends("CLPlugin").Prototype("CLAddon","abstract",function(proto,im,CLAddon){CLAddon.INITIALIZE_COMPLETE="clAddonInitializeComplete";proto.CLAddon=function(){proto.superclass(this)};proto.initializeAddOn=function(){return false};proto.createMainConfigMethod=function(type){a5.cl.CLMain.prototype["set"+type.substr(0,1).toUpperCase()+type.substr(1)]=function(){a5.cl.CLMain._cl_storedCfgs[type]=Array.prototype.slice.call(arguments)}};proto.getMainConfigProps=function(type){return a5.cl.CLMain._cl_storedCfgs[type]};proto.registerAutoInstantiate=function(){a5.cl.core.Instantiator.instance().registerAutoInstantiate.apply(null,arguments)};proto.defineRegisterableProcess=function(process){this.cl()._core().pluginManager().defineRegisterableProcess(process)}});a5.Package("a5.cl").Extends("CLBase").Mix("a5.cl.mixins.Binder").Class("CL","singleton",function(cls,im){var _params,_initializer,_config,core;cls._cl_plugins={};cls.CL=function(params,initializer){cls.superclass(this);var main=new a5.cl.CLMain._extenderRef[0](params);_params=main._cl_params();_initializer=initializer;core=new a5.cl.core.Core(_params);_config=a5.cl.core.Utils.mergeObject(core.instantiator().instantiateConfiguration(),params);if(_config.breakOnDestroyedMethods==true){a5._a5_destroyedObjFunc=Function("debugger;")}};cls._cl_launch=function(){core.initializeCore((_params.environment||null),(_params.clientEnvironment||null))};cls.initializer=function(){return _initializer};cls.launchState=function(){return core.launchState()};cls.applicationBuild=function(){return _config.applicationBuild};cls.appName=function(){return _config.appName};cls.applicationPackage=function(){return core.instantiator().applicationPackage.apply(cls,arguments)};cls.Override.appParams=function(){return a5.cl.CLMain._cl_storedCfgs.appParams};cls.environment=function(){return _config.environment};cls.Override.plugins=function(){return cls._cl_plugins};cls.relaunch=function(){core.relaunch()};cls._core=function(){return core};cls.asyncRunning=function(){return core.requestManager().asyncRunning()};cls.Override.eListenersChange=function(e){var ev=a5.cl.CLEvent.GLOBAL_UPDATE_TIMER_TICK;if(e.type===ev){if(cls.getTotalListeners(ev)>0){core.globalUpdateTimer().startTimer()}else{core.globalUpdateTimer().stopTimer()}}}});a5.Package("a5.cl").Extends("CLBase").Static(function(CLMain){CLMain._cl_storedCfgs={appParams:{},pluginConfigs:[]}}).Prototype("CLMain","abstract",function(proto,im,CLMain){var configDefaults={allowUntestedPlugins:false,applicationBuild:null,appName:"",breakOnDestroyedMethods:false,cacheEnabled:true,dependencies:[],environment:"DEVELOPMENT",globalUpdateTimerInterval:10,requestDefaultContentType:"application/json",requestDefaultMethod:"POST"},_params;proto.CLMain=function(params){proto.superclass(this);if(CLMain._extenderRef.length>1){throw new a5.cl.CLError('Invalid class "'+this.namespace()+'", a5.cl.CLMain must only be extended by one subclass.')}if(this.getStatic().instanceCount()>1){throw new a5.cl.CLError('Invalid duplicate instance of a5.cl.CLMain subclass "'+this.getStatic().namespace()+'"')}for(var prop in configDefaults){if(params[prop]===undefined){params[prop]=configDefaults[prop]}}_params=params;_params.applicationPackage=this.classPackage();proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_WILL_RELAUNCH,this.applicationWillRelaunch);proto.cl().addEventListener(im.CLEvent.ONLINE_STATUS_CHANGE,this.onlineStatusChanged);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_CLOSED,this.applicationClosed);proto.cl().addOneTimeEventListener(im.CLEvent.DEPENDENCIES_LOADED,this.dependenciesLoaded);proto.cl().addOneTimeEventListener(im.CLEvent.PLUGINS_LOADED,this.pluginsLoaded);proto.cl().addOneTimeEventListener(im.CLEvent.AUTO_INSTANTIATION_COMPLETE,this.autoInstantiationComplete);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_WILL_LAUNCH,this.applicationWillLaunch);proto.cl().addOneTimeEventListener(im.CLEvent.APPLICATION_LAUNCHED,this.applicationLaunched)};proto.Override.cl=function(){return a5.cl.CL.instance()};proto.allowUntestedPlugins=function(val){_params.allowUntestedPlugins=val};proto.appName=function(val){_params.appName=val};proto.breakOnDestroyedMethods=function(val){_params.breakOnDestroyedMethods=val};proto.cacheEnabled=function(val){_params.cacheEnabled=val};proto.dependencies=function(val){_params.dependencies=val};proto.environment=function(val){_params.environment=val};proto.globalUpdateTimerInterval=function(val){_params.globalUpdateTimerInterval=val};proto.requestDefaultContentType=function(val){_params.requestDefaultContentType=val};proto.requestDefaultMethod=function(val){_params.requestDefaultMethod=val};proto._cl_params=function(){return _params};proto.setAppParams=function(obj){CLMain._cl_storedCfgs.appParams=obj};proto.setPluginConfig=function(namespace,obj){CLMain._cl_storedCfgs.pluginConfigs.push({nm:namespace,obj:obj})};proto.dependenciesLoaded=function(){};proto.pluginsLoaded=function(){};proto.onlineStatusChanged=function(isOnline){};proto.autoInstantiationComplete=function(){};proto.applicationWillLaunch=function(){};proto.applicationLaunched=function(){};proto.applicationWillClose=function(){};proto.applicationClosed=function(){};proto.applicationWillRelaunch=function(){}})})(this);